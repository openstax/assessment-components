import{R as j,a as n,j as t,F as q}from"./index-4cca09be.js";import{n as P}from"./Answer-182479fa.js";import{B as c}from"./Button-c2f33026.js";import{C as W}from"./Feedback-70fa5178.js";import{a as Q}from"./Question-05df7058.js";import{S as U}from"./StepCardFooter-b30edce4.js";const D=({count:e})=>n("div",{children:[e," attempt",e===1?"":"s"," left"]}),M=({published_comments:e})=>e?n("div",{children:[t("strong",{children:"Feedback:"})," ",e]}):null,O=e=>t(c,{...e,waitingText:"Savingâ€¦",isWaiting:e.isWaiting,"data-test-id":"submit-answer-btn",children:e.attempt_number==0?"Submit":"Re-submit"}),T=e=>t(c,{...e,"data-test-id":"continue-btn",children:e.canUpdateCurrentStep?"Continue":"Next"}),z=({free_response:e})=>e?t(q,{children:t("div",{className:"free-response",children:e})}):null,X=j.forwardRef((e,l)=>{const{question:s,task:m,answer_id_order:u,onAnswerChange:h,feedback_html:p,correct_answer_feedback_html:b,is_completed:f,correct_answer_id:_,incorrectAnswerId:w,choicesEnabled:g,questionNumber:r,answer_id:i,hasMultipleAttempts:v,attempts_remaining:a,published_comments:S,detailedSolution:d,canAnswer:C,needsSaved:N,attempt_number:x,apiIsPending:o,onAnswerSave:k,onNextStep:A,canUpdateCurrentStep:F,displaySolution:R,available_points:y,free_response:B,show_all_feedback:E,tableFeedbackEnabled:I}=e;return n("div",{"data-test-id":"student-exercise-question",children:[t(Q,{ref:l,task:m,question:s,answerIdOrder:u,choicesEnabled:g,answer_id:i,questionNumber:r,onChange:h,feedback_html:p,correct_answer_feedback_html:b,correct_answer_id:f?_:null,incorrectAnswerId:w,className:"step-card-body",hideAnswers:!1,displayFormats:!1,displaySolution:R,show_all_feedback:E,tableFeedbackEnabled:I,children:t(z,{free_response:B})}),t(U,{className:"step-card-footer",children:n("div",{className:"step-card-footer-inner",children:[n("div",{className:"points",children:[n("strong",{children:["Points: ",y]}),t("span",{className:"attempts-left",children:v&&a>0&&t(D,{count:a})}),t(M,{published_comments:S}),d&&n("div",{children:[t("strong",{children:"Detailed solution:"})," ",t(W,{html:d})]})]}),t("div",{className:"controls",children:C&&N?t(O,{disabled:o||!i,isWaiting:o,attempt_number:x,onClick:()=>k(P(s.id))}):t(T,{onClick:()=>A(r-1),canUpdateCurrentStep:F})})]})})]})});export{X as E};
