import{s as j,j as s,a,F as B}from"./index-29113423.js";import{c as N}from"./index-f8504d5a.js";import{S as L,C as x}from"./Feedback-2159e6f6.js";import{c as g}from"./theme-448adac7.js";const l="ABCDEFGHIJKLMNOPQRSTUVWXYZ",M="1.0",O=function(e,r){if(!(e.id||r))return e.isCorrect;let t=e.id===r;return e.correctness!=null&&(t=e.correctness===M),t},y=(e,r)=>e.id===r,q=(e,r)=>e.id==r;function Q(e){const t=e.trim().match(/\b[-?(\w+)?]+\b/gi);return t?t.length:0}const U=e=>typeof e=="string"?parseInt(e,10):e,H=j.div`
  color: ${e=>e.state?g.answer.correct:g.answer.incorrect};
  text-transform: uppercase;
  font-size: calc(1.1rem * var(--content-text-scale));
  font-weight: bold;
`,K=({isCorrect:e,isIncorrect:r})=>{if(!e&&!r)return null;const t=e||r===!1;return a(H,{state:t,children:[t?"Correct":"Incorrect"," Answer"]})},W=e=>{const{type:r,iter:t,answer:n,disabled:d,onKeyPress:S,qid:m,answerId:v,correctAnswerId:F,incorrectAnswerId:o,hasCorrectAnswer:A,answered_count:I,contentRenderer:w,show_all_feedback:R,tableFeedbackEnabled:E}=e;let h,p,u;const f=q(n,v),c=O(n,F),b=y(n,o),P=N("answers-answer",{disabled:d,"answer-selected":f||v===void 0&&(!o&&c||b),"answer-correct":c&&r!=="student-mpp","answer-incorrect":o&&y(n,o)}),T=s("div",{className:"correct-incorrect",children:c&&e.correctIncorrectIcon});let C=`${f?"Selected ":""}Choice ${l[t]}`;A&&(C+=`(${c?"Correct":"Incorrect"} Answer)`),C+=":";let i,k;const _=()=>i&&i(n);if(!A&&r!=="teacher-review"&&r!=="teacher-preview"&&r!=="student-mpp"&&({onChangeAnswer:i}=e),i&&(k=s("input",{type:"radio",className:"answer-input-box",checked:f,id:`${m}-option-${t}`,name:`${m}-options`,onChange:_,disabled:d})),R&&n.feedback_html&&!E&&(p=s(L,{contentRenderer:w,children:n.feedback_html},"question-mc-feedback")),r==="teacher-review"){let $=0;n.selected_count&&I&&($=Math.round(n.selected_count/I*100)),u=s("span",{className:"selected-count","data-percent":`${$}`,children:n.selected_count}),h=a("div",{className:"review-wrapper",children:[a("div",{className:N("review-count",{green:c,red:!c}),children:[u,s("span",{className:N("letter",{green:c,red:!c}),children:l[t]})]}),a("div",{className:"answer-answer",children:[s(x,{className:"answer-content",component:w,html:n.content_html}),p]})]})}else h=a(B,{children:[r==="teacher-preview"&&T,u,k,a("label",{onKeyPress:S,htmlFor:`${m}-option-${t}`,className:"answer-label",children:[s("span",{className:"answer-letter-wrapper",children:s("button",{onClick:_,"aria-label":C,className:"answer-letter",disabled:d||b,"data-test-id":`answer-choice-${l[t]}`,children:l[t]})}),a("div",{className:"answer-answer",children:[s(K,{isCorrect:c,isIncorrect:b}),s(x,{className:"answer-content",component:w,html:n.content_html}),p]})]})]});return s("div",{className:"openstax-answer",children:s("section",{className:P,children:h})})};W.displayName="OSAnswer";export{W as A,Q as c,U as n};
