import{s as j,j as s,a,F as B}from"./index-3ee08883.js";import{c as N}from"./index-e94e4a14.js";import{S as L,C as g}from"./Feedback-4515bd0f.js";import{c as x}from"./theme-4cac50d3.js";const l="ABCDEFGHIJKLMNOPQRSTUVWXYZ",M="1.0",O=function(e,r){if(!(e.id||r))return e.isCorrect;let n=e.id===r;return e.correctness!=null&&(n=e.correctness===M),n},y=(e,r)=>e.id===r,q=(e,r)=>e.id==r;function Q(e){const n=e.trim().match(/\b[-?(\w+)?]+\b/gi);return n?n.length:0}const U=e=>typeof e=="string"?parseInt(e,10):e,H=j.div`
  color: ${e=>e.state?x.answer.correct:x.answer.incorrect};
  text-transform: uppercase;
  font-size: 1.1rem;
  font-weight: bold;
`,K=({isCorrect:e,isIncorrect:r})=>{if(!e&&!r)return null;const n=e||r===!1;return a(H,{state:n,children:[n?"Correct":"Incorrect"," Answer"]})},W=e=>{const{type:r,iter:n,answer:t,disabled:d,onKeyPress:S,qid:m,answerId:A,correctAnswerId:F,incorrectAnswerId:o,hasCorrectAnswer:v,answered_count:I,contentRenderer:w,show_all_feedback:R,tableFeedbackEnabled:E}=e;let h,p,u;const f=q(t,A),c=O(t,F),b=y(t,o),P=N("answers-answer",{disabled:d,"answer-selected":f||A===void 0&&(!o&&c||b),"answer-correct":c&&r!=="student-mpp","answer-incorrect":o&&y(t,o)}),T=s("div",{className:"correct-incorrect",children:c&&e.correctIncorrectIcon});let C=`${f?"Selected ":""}Choice ${l[n]}`;v&&(C+=`(${c?"Correct":"Incorrect"} Answer)`),C+=":";let i,k;const _=()=>i&&i(t);if(!v&&r!=="teacher-review"&&r!=="teacher-preview"&&r!=="student-mpp"&&({onChangeAnswer:i}=e),i&&(k=s("input",{type:"radio",className:"answer-input-box",checked:f,id:`${m}-option-${n}`,name:`${m}-options`,onChange:_,disabled:d})),R&&t.feedback_html&&!E&&(p=s(L,{contentRenderer:w,children:t.feedback_html},"question-mc-feedback")),r==="teacher-review"){let $=0;t.selected_count&&I&&($=Math.round(t.selected_count/I*100)),u=s("span",{className:"selected-count","data-percent":`${$}`,children:t.selected_count}),h=a("div",{className:"review-wrapper",children:[a("div",{className:N("review-count",{green:c,red:!c}),children:[u,s("span",{className:N("letter",{green:c,red:!c}),children:l[n]})]}),a("div",{className:"answer-answer",children:[s(g,{className:"answer-content",component:w,html:t.content_html}),p]})]})}else h=a(B,{children:[r==="teacher-preview"&&T,u,k,a("label",{onKeyPress:S,htmlFor:`${m}-option-${n}`,className:"answer-label",children:[s("span",{className:"answer-letter-wrapper",children:s("button",{onClick:_,"aria-label":C,className:"answer-letter",disabled:d||b,"data-test-id":`answer-choice-${l[n]}`,children:l[n]})}),a("div",{className:"answer-answer",children:[s(K,{isCorrect:c,isIncorrect:b}),s(g,{className:"answer-content",component:w,html:t.content_html}),p]})]})]});return s("div",{className:"openstax-answer",children:s("section",{className:P,children:h})})};W.displayName="OSAnswer";export{W as A,Q as c,U as n};
