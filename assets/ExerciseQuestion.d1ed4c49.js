import{R as Q,j as e,F as j}from"./index.dfd08f9a.js";import{n as q}from"./Answer.9e17b41d.js";import{B as s}from"./Button.8adc5b53.js";import{C as P}from"./Feedback.7a152ceb.js";import{Q as W}from"./Question.65d40278.js";import{S as D}from"./StepCardFooter.5e639013.js";var i="/home/runner/work/assessment-components/assessment-components/src/components/ExerciseQuestion.tsx";const U=({count:n})=>e("div",{children:[n," attempt",n===1?"":"s"," left"]},void 0,!0,{fileName:i,lineNumber:44,columnNumber:5},void 0),M=({published_comments:n})=>n?e("div",{children:[e("strong",{children:"Feedback:"},void 0,!1,{fileName:i,lineNumber:53,columnNumber:7},void 0)," ",n]},void 0,!0,{fileName:i,lineNumber:52,columnNumber:5},void 0):null,O=n=>e(s,{...n,waitingText:"Saving\u2026",isWaiting:n.isWaiting,"data-test-id":"submit-answer-btn",children:n.attempt_number==0?"Submit":"Re-submit"},void 0,!1,{fileName:i,lineNumber:61,columnNumber:3},void 0),T=n=>e(s,{...n,"data-test-id":"continue-btn",children:n.canUpdateCurrentStep?"Continue":"Next"},void 0,!1,{fileName:i,lineNumber:75,columnNumber:5},void 0),V=({free_response:n})=>n?e(j,{children:e("div",{className:"free-response",children:n},void 0,!1,{fileName:i,lineNumber:85,columnNumber:7},void 0)},void 0,!1):null,X=Q.forwardRef((n,d)=>{const{question:r,task:u,answer_id_order:c,onAnswerChange:N,feedback_html:b,correct_answer_feedback_html:v,is_completed:f,correct_answer_id:p,incorrectAnswerId:h,choicesEnabled:_,questionNumber:o,answer_id:l,hasMultipleAttempts:w,attempts_remaining:m,published_comments:g,detailedSolution:t,canAnswer:S,needsSaved:x,attempt_number:C,apiIsPending:a,onAnswerSave:k,onNextStep:F,canUpdateCurrentStep:A,displaySolution:R,available_points:E,free_response:y,show_all_feedback:B,tableFeedbackEnabled:I}=n;return e("div",{"data-test-id":"student-exercise-question",children:[e(W,{ref:d,task:u,question:r,answerIdOrder:c,choicesEnabled:_,answer_id:l,questionNumber:o,onChange:N,feedback_html:b,correct_answer_feedback_html:v,correct_answer_id:f?p:null,incorrectAnswerId:h,className:"step-card-body",hideAnswers:!1,displayFormats:!1,displaySolution:R,show_all_feedback:B,tableFeedbackEnabled:I,children:e(V,{free_response:y},void 0,!1,{fileName:i,lineNumber:121,columnNumber:9},void 0)},void 0,!1,{fileName:i,lineNumber:101,columnNumber:7},void 0),e(D,{className:"step-card-footer",children:e("div",{className:"step-card-footer-inner",children:[e("div",{className:"points",children:[e("strong",{children:["Points: ",E]},void 0,!0,{fileName:i,lineNumber:126,columnNumber:13},void 0),e("span",{className:"attempts-left",children:w&&m>0&&e(U,{count:m},void 0,!1,{fileName:i,lineNumber:130,columnNumber:17},void 0)},void 0,!1,{fileName:i,lineNumber:127,columnNumber:13},void 0),e(M,{published_comments:g},void 0,!1,{fileName:i,lineNumber:132,columnNumber:13},void 0),t&&e("div",{children:[e("strong",{children:"Detailed solution:"},void 0,!1,{fileName:i,lineNumber:133,columnNumber:40},void 0)," ",e(P,{html:t},void 0,!1,{fileName:i,lineNumber:133,columnNumber:76},void 0)]},void 0,!0,{fileName:i,lineNumber:133,columnNumber:35},void 0)]},void 0,!0,{fileName:i,lineNumber:125,columnNumber:11},void 0),e("div",{className:"controls",children:S&&x?e(O,{disabled:a||!l,isWaiting:a,attempt_number:C,onClick:()=>k(q(r.id))},void 0,!1,{fileName:i,lineNumber:137,columnNumber:15},void 0):e(T,{onClick:()=>F(o-1),canUpdateCurrentStep:A},void 0,!1,{fileName:i,lineNumber:143,columnNumber:15},void 0)},void 0,!1,{fileName:i,lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:i,lineNumber:124,columnNumber:9},void 0)},void 0,!1,{fileName:i,lineNumber:123,columnNumber:7},void 0)]},void 0,!0,{fileName:i,lineNumber:100,columnNumber:5},void 0)});export{X as E};
