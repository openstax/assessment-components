import{j as t,a,F as q}from"./index-85509e85.js";import{c as C}from"./index-2f7bde1e.js";import{S as B,C as g}from"./Feedback-3f13bdfc.js";const i="abcdefghijklmnopqrstuvwxyz",R="1.0",L=function(e,n){if(!(e.id||n))return e.isCorrect;let r=e.id===n;return e.correctness!=null&&(r=e.correctness===R),r},I=function(e,n){return e.id===n},M=(e,n)=>!!(n||[]).find(r=>r==e.id);function K(e){const r=e.trim().match(/\b[-?(\w+)?]+\b/gi);return r?r.length:0}const W=e=>typeof e=="string"?parseInt(e,10):e,O=e=>{const{type:n,iter:r,answer:c,disabled:l,onKeyPress:$,qid:d,chosenAnswer:x,correctAnswerId:y,incorrectAnswerId:m,hasCorrectAnswer:N,answered_count:A,contentRenderer:h,show_all_feedback:S,tableFeedbackEnabled:F}=e;let w,p,u;const f=M(c,x),s=L(c,y),j=I(c,m),E=t("div",{className:"correct-incorrect",children:s&&e.correctIncorrectIcon}),T=C("answers-answer",{disabled:l,"answer-checked":f,"answer-correct":s&&n!=="student-mpp","answer-incorrect":m&&I(c,m)});let b=`${f?"Selected ":""}Choice ${i[r]}`;N&&(b+=`(${s?"Correct":"Incorrect"} Answer)`),b+=":";let o,k;const v=()=>o&&o(c);if(!N&&n!=="teacher-review"&&n!=="teacher-preview"&&n!=="student-mpp"&&({onChangeAnswer:o}=e),o&&(k=t("input",{type:"radio",className:"answer-input-box",checked:f,id:`${d}-option-${r}`,name:`${d}-options`,onChange:v,disabled:l})),S&&c.feedback_html&&!F&&(p=t(B,{contentRenderer:h,children:c.feedback_html},"question-mc-feedback")),n==="teacher-review"){let _=0;c.selected_count&&A&&(_=Math.round(c.selected_count/A*100)),u=t("span",{className:"selected-count","data-percent":`${_}`,children:c.selected_count}),w=a("div",{className:"review-wrapper",children:[a("div",{className:C("review-count",{green:s,red:!s}),children:[u,t("span",{className:C("letter",{green:s,red:!s}),children:i[r]})]}),a("div",{className:"answer-answer",children:[t(g,{className:"answer-content",component:h,html:c.content_html}),p]})]})}else w=a(q,{children:[n==="teacher-preview"&&E,u,k,a("label",{onKeyPress:$,htmlFor:`${d}-option-${r}`,className:"answer-label",children:[t("span",{className:"answer-letter-wrapper",children:t("button",{onClick:v,"aria-label":b,className:"answer-letter",disabled:l||j,"data-test-id":`answer-choice-${i[r]}`,children:i[r]})}),a("div",{className:"answer-answer",children:[t(g,{className:"answer-content",component:h,html:c.content_html}),p]})]})]});return t("div",{className:"openstax-answer",children:t("section",{role:"region",className:T,children:w})})};O.displayName="OSAnswer";export{O as A,K as c,W as n};
