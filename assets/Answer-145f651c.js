import{s as x,j as s,a as w,F as S}from"./index-fc444f5e.js";import{c as f}from"./index-024c0e29.js";import{C as $,S as g}from"./Feedback-c9146b36.js";import{c as A}from"./theme-5a5cccca.js";const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ",R="1.0",F=function(e,t){if(!(e.id||t))return e.isCorrect;let r=e.id===t;return e.correctness!=null&&(r=e.correctness===R),r},C=(e,t)=>e.id===t,E=(e,t)=>e.id==t;function W(e){const r=e.trim().match(/\b[-?(\w+)?]+\b/gi);return r?r.length:0}const X=e=>typeof e=="string"?parseInt(e,10):e,T=x.div`
  color: ${e=>e.state?A.answer.correct:A.answer.incorrect};
  text-transform: uppercase;
  font-size: calc(1.1rem * var(--content-text-scale));
  font-weight: bold;
`,P=({isCorrect:e,isIncorrect:t})=>{let r="";return e?r="Correct Answer":t&&(r="Incorrect Answer"),s(T,{state:!!e||t===!1,children:s("span",{children:r||"Â "})})},v=e=>{const{answer:{content_html:t,feedback_html:r},contentRenderer:n,show_all_feedback:a,tableFeedbackEnabled:o,isCorrect:c,isIncorrect:i}=e;return w("div",{className:"answer-answer",role:"status","aria-live":"polite","aria-atomic":"true",children:[s(P,{isCorrect:c,isIncorrect:i}),s($,{className:"answer-content",component:n,html:t}),a&&r&&!o&&s(g,{contentRenderer:n,children:r},"question-mc-feedback")]})},j=e=>{const{answer:t,answered_count:r,isCorrect:n,contentRenderer:a,iter:o,show_all_feedback:c,tableFeedbackEnabled:i}=e,d=t.selected_count&&r?Math.round(t.selected_count/r*100):0;return w("div",{className:"review-wrapper",children:[w("div",{className:f("review-count",{green:n,red:!n}),children:[s("span",{className:"selected-count","data-percent":`${d}`,children:t.selected_count}),s("span",{className:f("letter",{green:n,red:!n}),children:p[o]})]}),s(v,{answer:t,contentRenderer:a,show_all_feedback:c,tableFeedbackEnabled:i})]})},B=e=>{const{type:t,iter:r,answer:n,disabled:a,onKeyPress:o,qid:c,contentRenderer:i,correctIncorrectIcon:d,feedbackId:m,isSelected:u,isCorrect:l,isIncorrect:b,hasCorrectAnswer:N,show_all_feedback:I,tableFeedbackEnabled:k}=e,_=`${u?"Selected ":""}Choice ${p[r]}:`;let h;const y=()=>h&&h(n);return!N&&t!=="teacher-review"&&t!=="teacher-preview"&&t!=="student-mpp"&&({onChangeAnswer:h}=e),w(S,{children:[t==="teacher-preview"&&s("div",{className:"correct-incorrect",children:l&&d}),s("input",{type:"radio",className:"answer-input-box",checked:u,id:`${c}-option-${r}`,name:`${c}-options`,onChange:y,disabled:a||!h,"aria-details":m}),w("label",{onKeyPress:o,htmlFor:`${c}-option-${r}`,className:"answer-label",children:[s("span",{className:"answer-letter-wrapper","aria-label":_,"data-answer-choice":p[r],"data-test-id":`answer-choice-${p[r]}`}),s(v,{answer:n,contentRenderer:i,show_all_feedback:I,tableFeedbackEnabled:k,isCorrect:l,isIncorrect:b})]})]})},L=e=>e.type==="teacher-review"?s(j,{...e}):s(B,{...e}),M=e=>{const{type:t,answer:r,disabled:n,answerId:a,correctAnswerId:o,incorrectAnswerId:c}=e,i=E(r,a),d=F(r,o),m=C(r,c),l=i||a===void 0&&(!c&&d||m),b=f("answers-answer",{disabled:n,"answer-selected":l,"answer-correct":d&&t!=="student-mpp","answer-incorrect":c&&C(r,c)});return s("div",{className:"openstax-answer",children:s("section",{className:b,children:s(L,{...e,isCorrect:d,isSelected:l,isIncorrect:m})})})};M.displayName="OSAnswer";export{M as A,W as c,X as n};
