import{a as S,s as Q,R as T,j as y,r as B,F as P}from"./index.69682a9e.js";import{C as O}from"./Feedback.aa5260c5.js";import{T as $}from"./Card.5df7d06d.js";import{E as I}from"./ExerciseQuestion.dc4d1468.js";var N={};(function(e){e.linear=function(t){return t},e.inQuad=function(t){return t*t},e.outQuad=function(t){return t*(2-t)},e.inOutQuad=function(t){return t*=2,t<1?.5*t*t:-.5*(--t*(t-2)-1)},e.inCube=function(t){return t*t*t},e.outCube=function(t){return--t*t*t+1},e.inOutCube=function(t){return t*=2,t<1?.5*t*t*t:.5*((t-=2)*t*t+2)},e.inQuart=function(t){return t*t*t*t},e.outQuart=function(t){return 1- --t*t*t*t},e.inOutQuart=function(t){return t*=2,t<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},e.inQuint=function(t){return t*t*t*t*t},e.outQuint=function(t){return--t*t*t*t*t+1},e.inOutQuint=function(t){return t*=2,t<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},e.inSine=function(t){return 1-Math.cos(t*Math.PI/2)},e.outSine=function(t){return Math.sin(t*Math.PI/2)},e.inOutSine=function(t){return .5*(1-Math.cos(Math.PI*t))},e.inExpo=function(t){return t==0?0:Math.pow(1024,t-1)},e.outExpo=function(t){return t==1?t:1-Math.pow(2,-10*t)},e.inOutExpo=function(t){return t==0?0:t==1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},e.inCirc=function(t){return 1-Math.sqrt(1-t*t)},e.outCirc=function(t){return Math.sqrt(1- --t*t)},e.inOutCirc=function(t){return t*=2,t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.inBack=function(t){var r=1.70158;return t*t*((r+1)*t-r)},e.outBack=function(t){var r=1.70158;return--t*t*((r+1)*t+r)+1},e.inOutBack=function(t){var r=2.5949095;return(t*=2)<1?.5*(t*t*((r+1)*t-r)):.5*((t-=2)*t*((r+1)*t+r)+2)},e.inBounce=function(t){return 1-e.outBounce(1-t)},e.outBounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.inOutBounce=function(t){return t<.5?e.inBounce(t*2)*.5:e.outBounce(t*2-1)*.5+.5},e.inElastic=function(t){var r,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,r=i/4):r=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)))},e.outElastic=function(t){var r,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,r=i/4):r=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/i)+1)},e.inOutElastic=function(t){var r,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,r=i/4):r=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)*.5+1)},e["in-quad"]=e.inQuad,e["out-quad"]=e.outQuad,e["in-out-quad"]=e.inOutQuad,e["in-cube"]=e.inCube,e["out-cube"]=e.outCube,e["in-out-cube"]=e.inOutCube,e["in-quart"]=e.inQuart,e["out-quart"]=e.outQuart,e["in-out-quart"]=e.inOutQuart,e["in-quint"]=e.inQuint,e["out-quint"]=e.outQuint,e["in-out-quint"]=e.inOutQuint,e["in-sine"]=e.inSine,e["out-sine"]=e.outSine,e["in-out-sine"]=e.inOutSine,e["in-expo"]=e.inExpo,e["out-expo"]=e.outExpo,e["in-out-expo"]=e.inOutExpo,e["in-circ"]=e.inCirc,e["out-circ"]=e.outCirc,e["in-out-circ"]=e.inOutCirc,e["in-back"]=e.inBack,e["out-back"]=e.outBack,e["in-out-back"]=e.inOutBack,e["in-bounce"]=e.inBounce,e["out-bounce"]=e.outBounce,e["in-out-bounce"]=e.inOutBounce,e["in-elastic"]=e.inElastic,e["out-elastic"]=e.outElastic,e["in-out-elastic"]=e.inOutElastic})(N);var q={exports:{}};(function(e){function t(n){if(n)return r(n)}function r(n){for(var i in t.prototype)n[i]=t.prototype[i];return n}t.prototype.on=t.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},t.prototype.once=function(n,i){function u(){this.off(n,u),i.apply(this,arguments)}return u.fn=i,this.on(n,u),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+n];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<u.length;o++)if(a=u[o],a===i||a.fn===i){u.splice(o,1);break}return u.length===0&&delete this._callbacks["$"+n],this},t.prototype.emit=function(n){this._callbacks=this._callbacks||{};var i=[].slice.call(arguments,1),u=this._callbacks["$"+n];if(u){u=u.slice(0);for(var a=0,o=u.length;a<o;++a)u[a].apply(this,i)}return this},t.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},t.prototype.hasListeners=function(n){return!!this.listeners(n).length},e.exports=t})(q);var A=N,D=q.exports;function H(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function l(e){if(!(this instanceof l))return new l(e);this._from=e,this.ease("linear"),this.duration(500)}D(l.prototype);l.prototype.reset=function(){return this.isArray=Object.prototype.toString.call(this._from)==="[object Array]",this._curr=H({},this._from),this._done=!1,this._start=Date.now(),this};l.prototype.to=function(e){return this.reset(),this._to=e,this};l.prototype.duration=function(e){return this._duration=e,this};l.prototype.ease=function(e){if(e=typeof e=="function"?e:A[e],!e)throw new TypeError("invalid easing function");return this._ease=e,this};l.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this};l.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now(),r=t-this._start,n=r>=e;if(n)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var i=this._from,u=this._to,a=this._curr,o=this._ease,c=(t-this._start)/e,h=o(c);if(this.isArray){for(var s=0;s<i.length;++s)a[s]=i[s]+(u[s]-i[s])*h;return this._update(a),this}for(var m in i)a[m]=i[m]+(u[m]-i[m])*h;return this._update(a),this}};l.prototype.update=function(e){return arguments.length==0?this.step():(this._update=e,this)};var L=l,k={exports:{}},g={exports:{}};(function(){var e,t,r,n,i,u;typeof performance<"u"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(g.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var a;return a=t(),a[0]*1e9+a[1]},n=e(),u=process.uptime()*1e9,i=n-u):Date.now?(g.exports=function(){return Date.now()-r},r=Date.now()):(g.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(S);var R=g.exports,f=typeof window>"u"?S:window,M=["moz","webkit"],v="AnimationFrame",b=f["request"+v],w=f["cancel"+v]||f["cancelRequest"+v];for(var _=0;!b&&_<M.length;_++)b=f[M[_]+"Request"+v],w=f[M[_]+"Cancel"+v]||f[M[_]+"CancelRequest"+v];if(!b||!w){var E=0,C=0,d=[],F=1e3/60;b=function(e){if(d.length===0){var t=R(),r=Math.max(0,F-(t-E));E=r+t,setTimeout(function(){var n=d.slice(0);d.length=0;for(var i=0;i<n.length;i++)if(!n[i].cancelled)try{n[i].callback(E)}catch(u){setTimeout(function(){throw u},0)}},Math.round(r))}return d.push({handle:++C,callback:e,cancelled:!1}),C},w=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}k.exports=function(e){return b.call(f,e)};k.exports.cancel=function(){w.apply(f,arguments)};k.exports.polyfill=function(e){e||(e=f),e.requestAnimationFrame=b,e.cancelAnimationFrame=w};var U=L,z=k.exports;function Y(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;return{top:e,left:t}}function G(e,t,r){r=r||{};var n=Y(),i=U(n).ease(r.ease||"out-circ").to({top:t,left:e}).duration(r.duration||1e3);i.update(function(a){window.scrollTo(a.left|0,a.top|0)}),i.on("end",function(){u=function(){}});function u(){z(u),i.update()}return u(),i}var V=G,X=V;function J(e,t,r){var n=document.body,i=document.documentElement,u=e.getBoundingClientRect(),a=i.clientHeight,o=Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);t=t||0;var c;r==="bottom"?c=u.bottom-a:r==="middle"?c=u.bottom-a/2-u.height/2:c=u.top;var h=o-a;return Math.min(c+t+window.pageYOffset,h)}var K=function(e,t){if(t=t||{},typeof e=="string"&&(e=document.querySelector(e)),e)return X(0,J(e,t.offset,t.align),t)},p="/home/runner/work/assessment-components/assessment-components/src/components/Exercise.tsx";const W=Q($)`
  font-size: 1.8rem;
  line-height: 3rem;
`,Z=({exercise:e})=>y(P,{children:[e.context&&y(O,{className:"step-card-body exercise-context",block:!0,html:e.context},void 0,!1,{fileName:p,lineNumber:18,columnNumber:9},void 0),e.stimulus_html&&y(O,{className:"step-card-body exercise-stimulus",block:!0,html:e.stimulus_html},void 0,!1,{fileName:p,lineNumber:22,columnNumber:9},void 0)]},void 0,!0),nt=({numberOfQuestions:e,questionNumber:t,step:r,exercise:n,show_all_feedback:i,scrollToQuestion:u,...a})=>{const o="feedback_html"in r;return T.useEffect(()=>{const c=document.querySelector(`.openstax-question[data-question-number="${u}"]`);c&&K(c)},[u,n]),y(W,{step:r,questionNumber:t,numberOfQuestions:o?e:n.questions.length,children:[y(Z,{exercise:n},void 0,!1,{fileName:p,lineNumber:72,columnNumber:5},void 0),n.questions.map((c,h)=>{var m;const s={...o?r:a.questionStates[c.id]};return B.exports.createElement(I,{...a,...s,exercise_uid:n.uid,key:c.id,question:c,questionNumber:t+h,choicesEnabled:s.canAnswer,displaySolution:!0,detailedSolution:(m=s.solution)==null?void 0:m.content_html,show_all_feedback:i,canUpdateCurrentStep:"canUpdateCurrentStep"in a?a.canUpdateCurrentStep:h+1!==n.questions.length,__self:void 0,__source:{fileName:p,lineNumber:77,columnNumber:9}})})]},void 0,!0,{fileName:p,lineNumber:67,columnNumber:11},void 0)};export{nt as E};
