import{s as S,j as n,a as l,F as $}from"./index-8a93527d.js";import{c as f}from"./index-ff89664c.js";import{C as g,S as x}from"./Feedback-18277fb3.js";import{c as A}from"./theme-bf5cfaa7.js";const u="ABCDEFGHIJKLMNOPQRSTUVWXYZ",R="1.0",F=function(e,t){if(!(e.id||t))return e.isCorrect;let r=e.id===t;return e.correctness!=null&&(r=e.correctness===R),r},C=(e,t)=>e.id===t,E=(e,t)=>e.id==t;function W(e){const r=e.trim().match(/\b[-?(\w+)?]+\b/gi);return r?r.length:0}const X=e=>typeof e=="string"?parseInt(e,10):e,T=S.div`
  color: ${e=>e.state?A.answer.correct:A.answer.incorrect};
  text-transform: uppercase;
  font-size: calc(1.1rem * var(--content-text-scale));
  font-weight: bold;
`,P=({isCorrect:e,isIncorrect:t})=>{if(!e&&!t)return null;const r=e||t===!1;return l(T,{state:r,children:[r?"Correct":"Incorrect"," Answer"]})},v=e=>{const{answer:{content_html:t,feedback_html:r},contentRenderer:s,show_all_feedback:a,tableFeedbackEnabled:o,isCorrect:c,isIncorrect:i}=e;return l("div",{className:"answer-answer",children:[n(P,{isCorrect:c,isIncorrect:i}),n(g,{className:"answer-content",component:s,html:t}),a&&r&&!o&&n(x,{contentRenderer:s,children:r},"question-mc-feedback")]})},j=e=>{const{answer:t,answered_count:r,isCorrect:s,contentRenderer:a,iter:o,show_all_feedback:c,tableFeedbackEnabled:i}=e,d=t.selected_count&&r?Math.round(t.selected_count/r*100):0;return l("div",{className:"review-wrapper",children:[l("div",{className:f("review-count",{green:s,red:!s}),children:[n("span",{className:"selected-count","data-percent":`${d}`,children:t.selected_count}),n("span",{className:f("letter",{green:s,red:!s}),children:u[o]})]}),n(v,{answer:t,contentRenderer:a,show_all_feedback:c,tableFeedbackEnabled:i})]})},B=e=>{const{type:t,iter:r,answer:s,disabled:a,onKeyPress:o,qid:c,contentRenderer:i,correctIncorrectIcon:d,feedbackId:m,isSelected:p,isCorrect:w,isIncorrect:b,hasCorrectAnswer:N,show_all_feedback:I,tableFeedbackEnabled:k}=e,_=`${p?"Selected ":""}Choice ${u[r]}:`;let h;const y=()=>h&&h(s);return!N&&t!=="teacher-review"&&t!=="teacher-preview"&&t!=="student-mpp"&&({onChangeAnswer:h}=e),l($,{children:[t==="teacher-preview"&&n("div",{className:"correct-incorrect",children:w&&d}),n("input",{type:"radio",className:"answer-input-box",checked:p,id:`${c}-option-${r}`,name:`${c}-options`,onChange:y,disabled:a||!h,"aria-details":m}),l("label",{onKeyPress:o,htmlFor:`${c}-option-${r}`,className:"answer-label",children:[n("span",{className:"answer-letter-wrapper","aria-label":_,"data-answer-choice":u[r],"data-test-id":`answer-choice-${u[r]}`}),n(v,{answer:s,contentRenderer:i,show_all_feedback:I,tableFeedbackEnabled:k,isCorrect:w,isIncorrect:b})]})]})},L=e=>e.type==="teacher-review"?n(j,{...e}):n(B,{...e}),M=e=>{const{type:t,answer:r,disabled:s,answerId:a,correctAnswerId:o,incorrectAnswerId:c}=e,i=E(r,a),d=F(r,o),m=C(r,c),w=i||a===void 0&&(!c&&d||m),b=f("answers-answer",{disabled:s,"answer-selected":w,"answer-correct":d&&t!=="student-mpp","answer-incorrect":c&&C(r,c)});return n("div",{className:"openstax-answer",children:n("section",{className:b,children:n(L,{...e,isCorrect:d,isSelected:w,isIncorrect:m})})})};M.displayName="OSAnswer";export{M as A,W as c,X as n};
