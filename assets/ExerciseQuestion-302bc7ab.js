import{R as j,a as n,j as t,F as q}from"./index-b746026b.js";import{n as P}from"./Answer-616f7640.js";import{B as c}from"./Button-9d60e331.js";import{C as W}from"./Feedback-99d3e179.js";import{a as Q}from"./Question-5bc907f6.js";import{S as U}from"./StepCardFooter-a9344932.js";const D=({count:e})=>n("div",{children:[e," attempt",e===1?"":"s"," left"]}),M=({published_comments:e})=>e?n("div",{children:[t("strong",{children:"Feedback:"})," ",e]}):null,O=e=>t(c,{...e,waitingText:"Savingâ€¦",isWaiting:e.isWaiting,"data-test-id":"submit-answer-btn",children:e.attempt_number==0?"Submit":"Re-submit"}),T=e=>t(c,{...e,"data-test-id":"continue-btn",children:e.canUpdateCurrentStep?"Continue":"Next"}),z=({free_response:e})=>e?t(q,{children:t("div",{className:"free-response",children:e})}):null,X=j.forwardRef((e,m)=>{const{question:s,task:u,answer_id_order:h,onAnswerChange:p,feedback_html:b,correct_answer_feedback_html:f,is_completed:_,correct_answer_id:w,incorrectAnswerId:g,choicesEnabled:v,questionNumber:r,answer_id:a,hasMultipleAttempts:S,attempts_remaining:i,published_comments:C,detailedSolution:d,canAnswer:N,needsSaved:x,attempt_number:k,apiIsPending:o,onAnswerSave:A,onNextStep:F,canUpdateCurrentStep:R,displaySolution:y,available_points:l,free_response:B,show_all_feedback:E,tableFeedbackEnabled:I}=e;return n("div",{"data-test-id":"student-exercise-question",children:[t(Q,{ref:m,task:u,question:s,answerIdOrder:h,choicesEnabled:v,answer_id:a,questionNumber:r,onChange:p,feedback_html:b,correct_answer_feedback_html:f,correct_answer_id:_?w:null,incorrectAnswerId:g,className:"step-card-body",hideAnswers:!1,displayFormats:!1,displaySolution:y,show_all_feedback:E,tableFeedbackEnabled:I,children:t(z,{free_response:B})}),t(U,{className:"step-card-footer",children:n("div",{className:"step-card-footer-inner",children:[n("div",{className:"points",role:"status",children:[l?n("strong",{children:["Points: ",l]}):null,t("span",{className:"attempts-left",children:S&&i>0&&t(D,{count:i})}),t(M,{published_comments:C}),d&&n("div",{children:[t("strong",{children:"Detailed solution:"})," ",t(W,{html:d})]})]}),t("div",{className:"controls",children:N&&x?t(O,{disabled:o||!a,isWaiting:o,attempt_number:k,onClick:()=>A(P(s.id))}):t(T,{onClick:()=>F(r-1),canUpdateCurrentStep:R})})]})})]})});export{X as E};
