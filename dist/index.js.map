{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/components/Content.tsx","../src/components/Feedback.tsx","../src/components/Answer.tsx","../src/constants.ts","../src/components/AnswersTable.tsx","../src/theme.ts","../src/components/Card.tsx","../src/components/StepCardFooter.tsx","../src/components/Button.tsx","../src/components/CompletionStatus.tsx","../src/components/Question.tsx","../src/components/FreeResponseInput.tsx","../src/components/ExerciseIcons.tsx","../src/components/ExerciseQuestion.tsx","../src/components/Exercise.tsx","../src/assets/flag.tsx","../src/components/ProgressBar.tsx","../src/components/Loader.tsx"],"sourcesContent":["import { Answer, ChosenAnswer, ID } from '../src/types';\n\nexport const ALPHABET = 'abcdefghijklmnopqrstuvwxyz';\n\nconst MAX_CORRECTNESS = '1.0';\n\nexport const isAnswerCorrect = function(answer: Answer, correctAnswerId?: ID | null) {\n  // if answer does not have an id, check the isCorrect property.\n  if (!(answer.id || correctAnswerId)) {\n    return answer.isCorrect;\n  }\n  let isCorrect = answer.id === correctAnswerId;\n  if (answer.correctness != null) { isCorrect = (answer.correctness === MAX_CORRECTNESS); }\n\n  return isCorrect;\n};\n\nexport const isAnswerIncorrect = function(answer: Answer, incorrectAnswerId?: ID) {\n  // Allow multiple attempts to show incorrectness without the correct_answer_id\n  return answer.id === incorrectAnswerId;\n};\n\nexport const isAnswerChecked = (answer: Answer, chosenAnswer?: ChosenAnswer) =>\n  Boolean((chosenAnswer || []).find( a => a == answer.id));\n\nexport function countWords(text: string) {\n  const trimmedText = text.trim();\n  //https://css-tricks.com/build-word-counter-app/\n  const words = trimmedText.match(/\\b[-?(\\w+)?]+\\b/gi);\n  if(!words) return 0;\n  return words.length;\n}\n\nexport const numberfyId = (id: ID) => typeof id === 'string' ? parseInt(id, 10) : id;\n","import React from \"react\";\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\ntype ComponentType = keyof JSX.IntrinsicElements | React.JSXElementConstructor<any>;\n\nexport interface ContentProps<T extends ComponentType | undefined> {\n  className?: string;\n  component?: T extends undefined ? undefined :\n    T extends ComponentType ? React.ReactComponentElement<T>:\n    never;\n  html: string;\n  block?: boolean;\n}\n\nexport const Content = (<T extends ComponentType | undefined>(\n  {html, component, block = false, ...props}: ContentProps<T>\n) => {\n  if (component !== undefined) {\n    return React.cloneElement(component, {html, ...props});\n  }\n  if (block) {\n    return <div dangerouslySetInnerHTML={{ __html: html }} {...props} />;\n  } else {\n    return <span dangerouslySetInnerHTML={{ __html: html }} {...props} />;\n  }\n});\n","import classnames from 'classnames';\nimport { Content } from './Content';\n\ninterface FeedbackProps {\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  children: string;\n  className?: string;\n  contentRenderer?: JSX.Element;\n}\n\nconst SimpleFeedback = (props: Pick<FeedbackProps, 'children' | 'className' | 'contentRenderer'>) => (\n  <aside>\n    <Content\n      component={props.contentRenderer}\n      className={classnames('question-feedback-content', 'has-html', props.className)}\n      html={props.children}\n      block={true} />\n  </aside>\n);\n\nconst Feedback = (props: FeedbackProps) => {\n  const position = props.position || 'bottom';\n  const wrapperClasses = classnames('question-feedback', position);\n\n  return (\n    <aside className={wrapperClasses}>\n      <div className=\"arrow\" aria-label=\"Answer Feedback\" />\n      <SimpleFeedback {...props}>\n        {props.children}\n      </SimpleFeedback>\n    </aside>\n  );\n};\n\nexport { Feedback, SimpleFeedback };\n","import cn from 'classnames';\nimport { ReactNode } from 'react';\nimport { ALPHABET, isAnswerChecked, isAnswerCorrect, isAnswerIncorrect } from '../utils';\nimport { Answer as AnswerType, ChosenAnswer, ID } from '../types';\nimport { Content } from './Content';\nimport { SimpleFeedback } from './Feedback';\n\nexport interface AnswerProps {\n  answer: AnswerType;\n  iter: number;\n  qid: ID;\n  type: 'teacher-review' | 'teacher-preview' | 'student' | 'student-mpp';\n  hasCorrectAnswer?: boolean;\n  onChangeAnswer?: (answer: AnswerType) => void;\n  disabled: boolean;\n  chosenAnswer: ChosenAnswer;\n  correctAnswerId?: ID | null;\n  incorrectAnswerId?: ID;\n  onKeyPress?: () => void;\n  answered_count?: number;\n  correctIncorrectIcon?: ReactNode,\n  radioBox?: ReactNode;\n  contentRenderer?: JSX.Element;\n  show_all_feedback?: boolean;\n  tableFeedbackEnabled?: boolean;\n}\n\nexport const Answer = (props: AnswerProps) => {\n  const {\n    type,\n    iter,\n    answer,\n    disabled,\n    onKeyPress,\n    qid,\n    chosenAnswer,\n    correctAnswerId,\n    incorrectAnswerId,\n    hasCorrectAnswer,\n    answered_count,\n    contentRenderer,\n    show_all_feedback,\n    tableFeedbackEnabled,\n  } = props;\n\n  let body, feedback, selectedCount;\n\n  const isChecked = isAnswerChecked(answer, chosenAnswer);\n  const isCorrect = isAnswerCorrect(answer, correctAnswerId);\n  const isIncorrect = isAnswerIncorrect(answer, incorrectAnswerId);\n\n  const correctIncorrectIcon = (\n    <div className=\"correct-incorrect\">\n      {isCorrect && props.correctIncorrectIcon}\n    </div>\n  );\n\n  const classes = cn('answers-answer', {\n    'disabled': disabled,\n    'answer-checked': isChecked,\n    'answer-correct': isCorrect && type !== 'student-mpp',\n    'answer-incorrect': incorrectAnswerId && isAnswerIncorrect(answer, incorrectAnswerId),\n  });\n\n  let ariaLabel = `${isChecked ? 'Selected ' : ''}Choice ${ALPHABET[iter]}`;\n  // somewhat misleading - this means that there is a correct answer,\n  // not necessarily that this answer is correct\n  if (hasCorrectAnswer) {\n    ariaLabel += `(${isCorrect ? 'Correct' : 'Incorrect'} Answer)`;\n  }\n  ariaLabel += ':';\n\n  let onChangeAnswer: AnswerProps['onChangeAnswer'], radioBox;\n\n  const onChange = () => onChangeAnswer && onChangeAnswer(answer);\n\n  if (!hasCorrectAnswer\n    && (type !== 'teacher-review')\n    && (type !== 'teacher-preview')\n    && (type !== 'student-mpp')) {\n    ({ onChangeAnswer } = props);\n  }\n\n  if (onChangeAnswer) {\n    radioBox = (\n      <input\n        type=\"radio\"\n        className=\"answer-input-box\"\n        checked={isChecked}\n        id={`${qid}-option-${iter}`}\n        name={`${qid}-options`}\n        onChange={onChange}\n        disabled={disabled}\n      />\n    );\n  }\n\n  if (show_all_feedback && answer.feedback_html && !tableFeedbackEnabled) {\n    feedback = (\n      <SimpleFeedback key=\"question-mc-feedback\" contentRenderer={contentRenderer}>\n        {answer.feedback_html}\n      </SimpleFeedback>\n    );\n  }\n\n  if (type === 'teacher-review') {\n    let percent = 0;\n    if (answer.selected_count && answered_count) {\n      percent = Math.round((answer.selected_count / answered_count) * 100);\n    }\n    selectedCount = (\n      <span\n        className=\"selected-count\"\n        data-percent={`${percent}`}\n      >\n        {answer.selected_count}\n      </span>\n    );\n\n    body = (\n      <div className=\"review-wrapper\">\n        <div className={cn('review-count', { 'green': isCorrect, 'red': !isCorrect })}>\n          {selectedCount}\n          <span className={cn('letter', { 'green': isCorrect, 'red': !isCorrect })}>\n            {ALPHABET[iter]}\n          </span>\n        </div>\n\n        <div className=\"answer-answer\">\n          <Content className=\"answer-content\" component={contentRenderer} html={answer.content_html} />\n          {feedback}\n        </div>\n      </div>\n    );\n  } else {\n    body = (\n      <>\n        {type === 'teacher-preview' && correctIncorrectIcon}\n        {selectedCount}\n        {radioBox}\n        <label\n          onKeyPress={onKeyPress}\n          htmlFor={`${qid}-option-${iter}`}\n          className=\"answer-label\">\n          <span className=\"answer-letter-wrapper\">\n            <button\n              onClick={onChange}\n              aria-label={ariaLabel}\n              className=\"answer-letter\"\n              disabled={disabled || isIncorrect}\n              data-test-id={`answer-choice-${ALPHABET[iter]}`}\n            >\n              {ALPHABET[iter]}\n            </button>\n          </span>\n          <div className=\"answer-answer\">\n            <Content className=\"answer-content\" component={contentRenderer} html={answer.content_html} />\n            {feedback}\n          </div>\n        </label>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"openstax-answer\">\n      <section role=\"region\" className={classes}>\n        {body}\n      </section>\n    </div>\n  );\n}\nAnswer.displayName = 'OSAnswer';\n","import { AnswerDisplayType } from './types';\n\nexport const defaultAnswerType: AnswerDisplayType = 'student';\n","import { defaultAnswerType } from \"../constants\";\nimport { Answer as AnswerType, AnswerDisplayType, ID, ExerciseQuestionData } from \"src/types\";\nimport { Answer } from \"./Answer\";\nimport { Feedback } from \"./Feedback\";\n\nexport interface AnswersTableProps {\n  question: ExerciseQuestionData;\n  type?: AnswerDisplayType;\n  answer_id?: ID;\n  correct_answer_id?: ID | null;\n  incorrectAnswerId?: ID;\n  answerIdOrder?: ID[],\n  feedback_html: string;\n  correct_answer_feedback_html?: string;\n  answered_count?: number;\n  show_all_feedback?: boolean;\n  tableFeedbackEnabled?: boolean;\n  onChangeAnswer: () => void;\n  hideAnswers: boolean;\n  hasCorrectAnswer?: boolean;\n  onChangeAttempt?: () => void;\n  choicesEnabled?: boolean;\n  onKeyPress?: () => void;\n  contentRenderer?: JSX.Element;\n  instructions?: JSX.Element;\n}\n\nexport const AnswersTable = (props: AnswersTableProps) => {\n  let idCounter = 0;\n\n  const {\n    question, hideAnswers, type = defaultAnswerType, answered_count, choicesEnabled, correct_answer_id,\n    incorrectAnswerId, answer_id, feedback_html, correct_answer_feedback_html,\n    show_all_feedback = false, tableFeedbackEnabled, hasCorrectAnswer, onChangeAnswer, onKeyPress, answerIdOrder, instructions\n  } = props;\n  if (hideAnswers) { return null; }\n\n  const { id } = question;\n\n  const feedback: { index: number, html: string }[] = [];\n\n  const chosenAnswer = [answer_id];\n\n  const sortedAnswersByIdOrder = (idOrder: ID[]) => {\n    const { answers } = question;\n    return answers.slice().sort((a, b) => idOrder.indexOf(a.id) - idOrder.indexOf(b.id));\n  }\n\n  const questionAnswerProps = {\n    qid: id || `auto-${idCounter++}`,\n    correctAnswerId: correct_answer_id,\n    incorrectAnswerId,\n    hasCorrectAnswer,\n    chosenAnswer,\n    onChangeAnswer: onChangeAnswer,\n    type,\n    answered_count,\n    disabled: !choicesEnabled,\n    show_all_feedback,\n    tableFeedbackEnabled,\n    onKeyPress\n  };\n\n  const answers = answerIdOrder ? sortedAnswersByIdOrder(answerIdOrder) : question.answers;\n\n  const answersHtml = answers.map((answer, i) => {\n    const additionalProps: { answer: AnswerType, iter: number, key: string }\n      = {\n        answer: {\n          ...answer,\n          question_id: typeof question.id === 'string' ? parseInt(question.id, 10) : question.id\n         },\n      iter: i,\n      key: `${questionAnswerProps.qid}-option-${i}`\n    };\n    const answerProps = Object.assign({}, additionalProps, questionAnswerProps);\n\n    if (show_all_feedback && answer.feedback_html && tableFeedbackEnabled) {\n      feedback.push({ index: i, html: answer.feedback_html })\n    } else if (answer.id === incorrectAnswerId && feedback_html) {\n      feedback.push({ index: i, html: feedback_html })\n    } else if (answer.id === correct_answer_id && correct_answer_feedback_html) {\n      feedback.push({ index: i, html: correct_answer_feedback_html })\n    }\n\n    return (\n      <Answer {...answerProps} />\n    );\n  });\n\n  feedback.forEach((item, i) => {\n    const spliceIndex = item.index + i + 1;\n    answersHtml.splice(spliceIndex, 0, (\n      <Feedback key={spliceIndex} contentRenderer={props.contentRenderer}>\n        {item.html}\n      </Feedback>\n    ));\n  });\n\n  return (\n    <div className=\"answers-table\">\n      {instructions}\n      {answersHtml}\n    </div>\n  );\n}\n","import { css } from 'styled-components';\n\nconst palette = {\n  red: \"#ca2026\",\n  danger: \"#c2002f\",\n  darkRed: \"#c22032\",\n  lightRed: \"#e298a0\",\n  green: \"#77af42\",\n  lightGreen: \"#8bc753\",\n  darkGreen: \"#63a524\",\n  paleYellow: \"#ffffbb\",\n  teal: \"#0dc0de\",\n  blue: \"#007da4\",\n  mediumBlue: \"#026AA1\",\n  lightBlue: \"#34bdd8\",\n  neutralLightBlue: \"#0dc0dc\",\n  tangerine: \"#ffbd3e\",\n  gray: \"#5e5e5e\",\n  darkGray: \"#757575\",\n  pale: \"#d5d5d5\",\n  light: \"#e4e4e4\",\n  white: \"#ffffff\",\n  neutralLightest: \"#f9f9f9\", // nearly white\n  neutralCool: \"#f6f7f8\", // cool bright gray\n  neutralBright: \"#f5f5f5\", // bright gray\n  neutralLighter: \"#f1f1f1\", // light gray\n  neutralLight: \"#e5e5e5\", // light gray\n  neutralMedium: \"#a0a0a0\", // light gray\n  neutral: \"#818181\", // gray\n  neutralThin: \"#6f6f6f\", // medium gray\n  neutralDark: \"#5f6163\", // dark gray\n  neutralFeedback: \"#555\", // another dark gray\n  neutralDarker: \"#424242\", // very dark gray\n  black: \"#000000\",\n  orange: \"#D4450C\"\n};\n\nexport const colors = {\n  palette: palette,\n  answer: {\n    color: palette.lightBlue,\n    correct: {\n      color: palette.green,\n      background: \"#77af42\",\n    },\n    incorrect: {\n      color: palette.red,\n      background: palette.red,\n    },\n    checked: palette.lightBlue,\n    hover: palette.neutralDark,\n    label: {\n      color: palette.neutral,\n      colorHover: palette.neutralDark,\n      colorSelected: palette.lightBlue,\n    },\n  },\n  popover: {\n    arrowOuterColor: \"rgba(0, 0, 0, 0.25)\",\n    borderColor: \"rgba(0, 0, 0, 0.2)\",\n  },\n  card: {\n    header: {\n     background: \"#daf3f8\"\n    },\n    body: {\n      background: \"#fdfdfd\"\n    }\n  },\n  button: {\n    background: palette.orange,\n    backgroundHover: \"#E74B0D\",\n    backgroundActive: \"#C5400B\"\n  },\n  freeResponse: {\n    color: palette.neutralDark,\n    background: palette.neutralLighter,\n  },\n};\n\nexport const layouts = {\n  answer: {\n    verticalSpacing: \"1rem\",\n    horizontalSpacing: \"1rem\",\n    horizontalBuffer: \"2.5rem\",\n    bubbleSize: \"3.6rem\",\n    labelSpacing: \"6.5rem\",\n    feedback: {\n      popover: {\n        horizontalSpacing: \"1.1rem\",\n        verticalSpacing: \"0.9rem\",\n        maxWidth: \"370px\",\n      },\n    },\n  },\n  popover: {\n    arrow: {\n      width: \"16px\",\n      height: \"8px\",\n      edgeDistance: \"9px\",\n    },\n    horizontalSpacing: \"0.8rem\",\n    verticalSpacing: \"1rem\",\n    horizontalBuffer: \"4rem\",\n    borderWidth: \"1px\",\n    maxWidth: \"325px\",\n  }\n};\n\nexport const BREAKPOINTS = {\n  mobile: 600,\n  tablet: 999,\n  desktop: 1000,\n  large: 1600,\n};\n\nexport const breakpoints = {\n  mobile(...args: Parameters<typeof css>) {\n    return css`@media(max-width: ${BREAKPOINTS.mobile}px) { ${css(...args)} }`;\n  },\n  tablet(...args: Parameters<typeof css>) {\n    return css`@media(max-width: ${BREAKPOINTS.tablet}px) { ${css(...args)} }`;\n  },\n  desktop(...args: Parameters<typeof css>) {\n    return css`@media(min-width: ${BREAKPOINTS.desktop}px) { ${css(...args)} }`;\n  },\n  only: {\n    mobile(...args: Parameters<typeof css>) {\n      return css`@media(max-width: ${BREAKPOINTS.mobile}px) { ${css(...args)} }`;\n    },\n  },\n  margins: {\n    mobile: '8px',\n    tablet: '24px',\n  },\n};\n\nexport const transitions = {\n  answer: \"0.1s ease-in-out\",\n}\n\nexport const mixins = {\n  answer: () => css`\n    .answer-label {\n      display: flex;\n    }\n    color: ${colors.answer.label.color};\n    .answer-letter {\n      width: ${layouts.answer.bubbleSize};\n      height: ${layouts.answer.bubbleSize};\n      min-width: ${layouts.answer.bubbleSize};\n      min-height: ${layouts.answer.bubbleSize};\n      border-radius: calc(${layouts.answer.bubbleSize} / 2);\n      border-width: 2px;\n      border-style: solid;\n      border-color: #c6c6c6;\n      color: ${colors.answer.label.colorHover};\n      transition: color ${transitions.answer}, border-color ${transitions.answer}, background-color ${transitions.answer};\n      background-color: ${colors.palette.white};\n      font-family: \"Neue Helvetica W01\", Helvetica, Arial, sans-serif;\n    }\n  `,\n  answerColor: (values: { color: string, background: string }) => css`\n    color: ${values.color};\n    .answer-letter {\n       border-color: ${values.color};\n       background-color: ${values.background};\n       color: ${colors.palette.white};\n    }\n  `,\n  answerChecked: () => mixins.answerColor({ color: colors.answer.checked, background: colors.answer.checked }),\n  answerCorrect: () => mixins.answerColor(colors.answer.correct),\n  answerIncorrect: () => mixins.answerColor(colors.answer.incorrect),\n  answerHover: () => css`\n    color: ${colors.answer.label.colorHover};\n    .answer-letter {\n      border-color: ${colors.answer.label.colorSelected};\n    }\n  `,\n  answerCorrectText: () => css`\n    content: 'correct answer';\n    color: ${colors.answer.label.color};\n    margin-left: calc(-1.34 * ${layouts.answer.bubbleSize});\n    display: flex;\n    align-items: center;\n    height: ${layouts.answer.bubbleSize};\n    width: 4.8rem;\n    text-align: center;\n    font-size: 1.2rem;\n    line-height: 1.2rem;\n  `,\n  answerCorrectAnswer: () => css`\n    color: ${colors.answer.correct.color};\n    .answer-letter {\n      border-color: ${colors.answer.correct.color};\n      color: ${colors.answer.correct.color};\n    }\n    &::before {\n     ${mixins.answerCorrectText()}\n      @media screen and (max-width: ${BREAKPOINTS.tablet}px) {\n        display: none;\n      }\n    }\n    @media screen and (max-width:  ${BREAKPOINTS.tablet}px) {\n      .answer-letter-wrapper {\n        display: flex;\n        flex-direction: column;\n        &::after {\n          ${mixins.answerCorrectText()}\n          width: ${layouts.answer.bubbleSize} !important;\n          margin-left: -0.1rem;\n        }\n      }\n    }\n  `,\n  resetText: () => css`\n    font-family:  \"Neue Helvetica W01\", Helvetica, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1.6;\n    text-align: left;\n    text-align: start;\n    text-decoration: none;\n    text-shadow: none;\n    text-transform: none;\n    letter-spacing: normal;\n    word-break: normal;\n    word-spacing: normal;\n    white-space: normal;\n    line-break: auto;\n  `,\n  stepCardPadding: () => css`\n    padding: 48px 140px;\n\n    ${breakpoints.tablet`\n      padding: ${breakpoints.margins.tablet} ${breakpoints.margins.tablet};\n    `}\n\n    ${breakpoints.mobile`\n      padding: calc(${breakpoints.margins.mobile} * 2) ${breakpoints.margins.mobile};\n    `}\n  `,\n  popover: () => css`\n    ${mixins.resetText()}\n\n    z-index: 1;\n    position: relative;\n    border: ${layouts.popover.borderWidth} solid ${colors.popover.borderColor};\n    background-color: ${colors.palette.white};\n    background-clip: padding-box;\n    max-width: ${layouts.popover.maxWidth};\n    margin: calc(${layouts.popover.arrow.height} - 14px) 0 ${layouts.answer.horizontalSpacing} 8px;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.1);\n    color: ${colors.palette.neutralThin};\n    font-size: 1.4rem;\n\n    .arrow {\n      position: absolute;\n      display: block;\n      width: ${layouts.popover.arrow.width};\n      height: ${layouts.popover.arrow.height};\n      margin-left: ${layouts.popover.arrow.edgeDistance};\n      top: calc(${layouts.popover.arrow.height} * -1);\n\n      &::before,\n      &::after {\n        position: absolute;\n        display: block;\n        content: \"\";\n        border-color: transparent;\n        border-style: solid;\n        border-width: 0 calc(${layouts.popover.arrow.width} / 2) ${layouts.popover.arrow.height} calc(${layouts.popover.arrow.width} / 2);\n      }\n      &::before {\n        top: 0;\n        border-bottom-color: ${colors.popover.borderColor};\n      }\n      &::after {\n        top: ${layouts.popover.borderWidth};\n        border-bottom-color: ${colors.palette.white};\n      }\n    }\n\n    &.right {\n      right: calc(-${layouts.popover.arrow.edgeDistance} - ${layouts.popover.borderWidth});\n      .arrow { right: ${layouts.popover.arrow.edgeDistance}; }\n    }\n\n\n    > .content {\n      padding: ${layouts.popover.verticalSpacing} ${layouts.popover.horizontalSpacing};\n    }\n  `,\n};\n\nconst theme = {\n  colors: colors,\n  layouts: layouts,\n  transitions: transitions,\n  breakpoints: breakpoints,\n};\n\nexport default theme;\n","import { ReactNode } from \"react\";\nimport { breakpoints, colors, mixins } from \"../theme\";\nimport { AvailablePoints, StepBase, StepWithData } from \"../types\";\nimport styled from \"styled-components\";\nimport cn from \"classnames\";\n\nexport const InnerStepCard = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  min-height: 400px;\n  border-radius: 0.25rem;\n  margin: 0 auto 5rem auto;\n  border: 1px solid ${colors.palette.light};\n  border-radius: 0.25rem;\n  background-color: white;\n\n  ${breakpoints.desktop`\n    max-width: 1000px;\n  `}\n`;\n\nexport const OuterStepCard = styled.div`\n  padding: 2rem;\n\n  ${breakpoints.mobile`\n    padding: 0;\n  `}\n`;\n\nconst StepCardHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 24px;\n  background: ${colors.card.header.background};\n  font-size: 1.8rem;\n  line-height: 3rem;\n  letter-spacing: -0.72px;\n\n  div {\n    display: flex;\n    align-items: baseline;\n  }\n\n  div.question-info {\n    font-weight: bold;\n\n    .question-id {\n      font-weight: normal;\n    }\n    .ox-icon-lock {\n        margin-right: 1rem;\n    }\n  }\n\n  .num-questions, .points {\n      display: none;\n  }\n\n  .exercise-id, .separator {\n      font-weight: normal;\n  }\n\n  .separator {\n      margin: 0 0.4rem;\n  }\n\n  .exercise-id {\n      height: 28px; // Fix baseline issue\n  }\n\n  button {\n    color: ${colors.palette.gray};\n  }\n\n  .openstax-exercise-badges {\n      margin: 0;\n      line-height: 2rem;\n      svg {\n          display: block;\n          &:not(.interactive) {\n              margin: 0 0 0 6px !important;\n          }\n      }\n  }\n\n  ${breakpoints.desktop`\n      button.ox-icon-angle-left, button.ox-icon-angle-right {\n          display: none;\n      }\n      .separator {\n          display: inherit;\n      }\n  `}\n\n    /*\n    1. Show the arrows to move to previous and next question.\n    2. Show the number of questions.\n    3. Override box-shadow of icons when turned into a button.\n    */\n    ${breakpoints.tablet`\n        font-size: 1.6rem;\n        line-height: 2.5rem;\n\n        svg.ox-icon {\n            display: inherit;\n            margin: 0;\n        }\n        button.ox-icon-angle-left {\n            margin-right: ${breakpoints.margins.tablet};\n        }\n        button.ox-icon-angle-right {\n            margin-left: ${breakpoints.margins.tablet};\n        }\n        .openstax-exercise-badges svg {\n            display: none;\n        }\n        .num-questions, points {\n            display: inherit;\n        }\n\n        .exercise-id {\n            display: none;\n        }\n\n        button[class^='ox-icon-angle']:hover {\n            box-shadow: none;\n        }\n  `}\n\n  ${breakpoints.mobile`\n      font-size: 1.4rem;\n      line-height: 2rem;\n      padding: 10px 8px;\n\n      button.ox-icon-angle-left {\n          margin-right: ${breakpoints.margins.mobile};\n      }\n      button.ox-icon-angle-left {\n          margin-right: ${breakpoints.margins.mobile};\n      }\n  `}\n`;\nStepCardHeader.displayName = 'StepCardHeader';\n\nconst StepCardQuestion = styled.div<{ unpadded?: boolean }>`\n  .step-card-body {\n    ${mixins.stepCardPadding()}\n\n    background: ${colors.card.body.background};\n\n    &.exercise-stimulus {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n  }\n\n    & + div .step-card-body {\n        padding-top: 0;\n    }\n\n    &.exercise-context, &.exercise-stimulus, &.exercise-stem {\n        padding-bottom: 0;\n    }\n\n    ${breakpoints.only.mobile`\n        && .question-feedback {\n            margin-left: 0;\n\n           .arrow { margin-left: 12px; }\n        }\n    `}\n\n    .reading-step & {\n        padding: 0;\n    }\n\n    ${breakpoints.desktop`\n        .video-step &, .interactive-step & {\n            .openstax-exercise-badges {\n              margin-right: 3.8rem;\n            }\n        }\n    `}\n\n    ${breakpoints.mobile`\n        .openstax-exercise-badges svg {\n            margin-right: ${breakpoints.margins.mobile};\n        }\n    `}\n\n    &&& {\n        .openstax-has-html .splash .frame-wrapper { margin-top: 0; }\n    }\n`;\n\ninterface SharedProps {\n  questionNumber: number;\n  numberOfQuestions: number;\n  showTotalQuestions: boolean;\n  leftHeaderChildren?: ReactNode;\n  rightHeaderChildren?: ReactNode;\n  headerTitleChildren?: ReactNode;\n}\n\nexport interface StepCardProps extends SharedProps {\n  unpadded: boolean;\n  className?: string;\n  children?: ReactNode;\n  stepType: StepWithData['type'];\n  availablePoints?: AvailablePoints;\n  questionId?: string;\n  multipartBadge?: ReactNode;\n  isHomework: boolean;\n}\n\nconst StepCard = ({\n  questionNumber,\n  numberOfQuestions,\n  showTotalQuestions,\n  stepType,\n  isHomework,\n  availablePoints,\n  unpadded, // currently does nothing; may need to restore if this causes tutor stepcard regression\n  className,\n  children,\n  questionId,\n  multipartBadge,\n  leftHeaderChildren,\n  rightHeaderChildren,\n  headerTitleChildren,\n  ...otherProps }: StepCardProps) => {\n\n  const formattedQuestionNumber = numberOfQuestions > 1\n    ? `Questions ${questionNumber} - ${questionNumber + numberOfQuestions - 1}`\n    : `Question ${questionNumber}`;\n\n  return (\n    <OuterStepCard {...otherProps}>\n      {multipartBadge}\n      <InnerStepCard className={className}>\n        {questionNumber && isHomework && stepType === 'exercise' &&\n          <StepCardHeader>\n            <div>\n              {leftHeaderChildren}\n              <div className=\"question-info\">\n                {headerTitleChildren}\n                <span>{formattedQuestionNumber}</span>\n                {showTotalQuestions ? <span className=\"num-questions\">&nbsp;/ {numberOfQuestions}</span> : null}\n                <span className=\"separator\">|</span>\n                <span className=\"question-id\">ID: {questionId}</span>\n              </div>\n            </div>\n            <div>\n              {availablePoints && <div className=\"points\">{availablePoints} Points</div>}\n              {rightHeaderChildren}\n            </div>\n          </StepCardHeader>\n        }\n        <StepCardQuestion unpadded={unpadded}>{children}</StepCardQuestion>\n      </InnerStepCard>\n    </OuterStepCard>\n  )\n};\nStepCard.displayName = 'OSStepCard';\n\nexport interface TaskStepCardProps extends SharedProps {\n  className?: string;\n  children?: ReactNode;\n  step: StepBase | StepWithData;\n  questionNumber: number;\n  numberOfQuestions: number;\n}\n\nconst TaskStepCard = ({\n  step,\n  questionNumber,\n  numberOfQuestions,\n  children,\n  className,\n  ...otherProps\n}: TaskStepCardProps) =>\n(<StepCard {...otherProps}\n  unpadded={true}\n  questionNumber={questionNumber}\n  numberOfQuestions={numberOfQuestions}\n  stepType={'type' in step ? step.type : 'exercise'}\n  isHomework={'task' in step ? (step.task === undefined || step.task.type === 'homework') : true}\n  data-task-step-id={step.id}\n  availablePoints={step.available_points}\n  className={cn(`${('type' in step ? step.type : 'exercise')}-step`, className)}\n  questionId={step.uid}\n>\n  {children}\n</StepCard>);\n\nTaskStepCard.displayName = 'OSTaskStepCard';\n\nexport { StepCard, TaskStepCard };\n","import { colors, breakpoints, mixins } from \"../theme\";\nimport styled from \"styled-components\";\n\nexport const StepCardFooter = styled.div`\n    ${mixins.stepCardPadding()}\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    font-size: 1.4rem;\n    line-height: 2rem;\n    background: ${colors.card.body.background};\n\n    > * {\n        flex-grow: 1;\n    }\n\n    button {\n        width: 160px;\n        height: 48px;\n    }\n\n    .step-card-footer-inner {\n        border-top: 1px solid ${colors.palette.pale};\n        padding-top: 32px;\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .points {\n        margin-bottom: 1.6rem; // Replace with https://caniuse.com/?search=gap soon\n\n        .attempts-left {\n            color: #F36B32;\n        }\n    }\n\n    .controls {\n        display: flex;\n        flex-flow: column wrap-reverse;\n        margin-left: 1.6rem; // Replace with https://caniuse.com/?search=gap soon\n\n        button + button {\n            margin: 0.8rem 0 0 0;\n        }\n    }\n\n    ${breakpoints.desktop`\n        padding: 0 140px 32px 140px;\n        flex-wrap: nowrap;\n\n        .points {\n            max-width: 400px;\n        }\n\n        .controls {\n            flex-flow: row;\n            justify-content: flex-end;\n\n            button + button {\n                margin: 0 0 0 0.8rem;\n            }\n        }\n    `}\n`;\n","import { colors } from \"../theme\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n  background-color: ${colors.button.background};\n  color: ${colors.palette.white};\n  font-size: 1.6rem;\n  font-weight: 700;\n  line-height: 2rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  height: 4rem;\n  padding: 0 3rem;\n  border: 0;\n  border-radius: 5px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n\n  &:not([disabled]) {\n    cursor: pointer;\n    &:hover {\n      background: ${colors.button.backgroundHover}\n    }\n    &:active {\n      background: ${colors.button.backgroundActive}\n    }\n  }\n  &:disabled {\n    opacity: 0.4;\n  }\n`;\n\ninterface ButtonProps extends React.ComponentPropsWithoutRef<'button'> {\n  isWaiting?: never;\n  waitingText?: never;\n}\ninterface WaitingButtonProps extends React.ComponentPropsWithoutRef<'button'> {\n  isWaiting: boolean;\n  waitingText: string;\n}\n\nconst Button = (props: ButtonProps | WaitingButtonProps) => {\n  const { disabled, isWaiting, waitingText, children, ...otherProps } = props;\n\n  return (\n    <StyledButton {...otherProps} disabled={isWaiting || disabled}>{(isWaiting && waitingText) || children}</StyledButton>\n  );\n}\n\nexport default Button;\n","import styled from \"styled-components\";\nimport { InnerStepCard } from \"./Card\";\nimport Button from \"./Button\";\n\nexport interface CompletionStatusProps {\n  numberOfQuestions: number;\n  numberCompleted: number;\n  handleClick: () => void;\n}\n\nconst CompletionStatusCard = styled(InnerStepCard)`\n  padding: 88px 72px;\n  font-size: 1.8rem;\n  line-height: 3rem;\n  display: block;\n\n  button {\n    min-width: 160px;\n    height: 48px;\n  }\n\n  p {\n    margin: 16px 0 20px 0;\n  }\n`;\n\nconst CompletionHeader = styled.h2`\n  font-size: 2.4rem;\n  margin: 0;\n`;\n\nexport const CompletionStatus = ({\n  numberOfQuestions, numberCompleted, handleClick\n}: CompletionStatusProps) => {\n  \n  const allCompleted = numberOfQuestions === numberCompleted;\n  const someCompleted = numberCompleted > 0;\n  const buttonText = allCompleted ? 'Next' : (\n      someCompleted ? 'Continue' : 'Start'\n  );\n\n  return (\n    <CompletionStatusCard>\n      <CompletionHeader>{allCompleted ? 'You are done.' : (someCompleted ? 'Quiz is partially complete.' : 'No questions have been answered.')}</CompletionHeader>\n      <p>{allCompleted ? 'Great job answering all the questions.' : (someCompleted ? `You've completed ${numberCompleted} of ${numberOfQuestions} questions.` : 'Begin working on the quiz.')}</p>\n      <Button data-test-id={`${buttonText.split(' ')[0].toLowerCase()}-btn`} onClick={()=> handleClick()}>\n        {buttonText}\n      </Button>\n    </CompletionStatusCard>\n  )\n};\n","import styled from 'styled-components';\nimport { mixins, colors, layouts, transitions } from '../theme';\nimport { AnswersTable } from './AnswersTable';\nimport classnames from 'classnames';\nimport { ID, ExerciseQuestionData, Task } from 'src/types';\nimport React, { ReactNode } from 'react';\nimport { Content } from './Content';\n\nconst StyledQuestion = styled.div`\n&.step-card-body {\n  ${mixins.stepCardPadding()};\n}\n\n&.openstax-question {\n  border-top: 1px solid ${colors.palette.pale};\n  font-size: 1.8rem;\n\n  .detailed-solution {\n    margin-bottom: 1rem;\n    .header {\n      display: inline;\n      margin-right: 0.5rem;\n      color: #5e6062;\n      font-weight: bold;\n      flex-basis: 0;\n    }\n    .solution {\n      display: inline;\n      color: #6f6f6f;\n    }\n  }\n\n  img {\n    display: block;\n    margin: auto;\n    max-width: 100%;\n  }\n\n  .question-stem {\n    margin-bottom: 0;\n  }\n\n  .answers-table {\n    margin-bottom: 20px;\n    font-size: 1.6rem;\n    line-height: 2rem;\n  }\n\n  .instructions {\n    font-size: 1.4rem;\n    font-style: italic;\n    margin-top: 10px;\n    color: ${colors.palette.neutral};\n    margin: 0;\n\n    i {\n      margin-left: 5px;\n    }\n\n    .text-info {\n      color: ${colors.palette.neutralLightBlue};\n      padding-left: 5px;\n      cursor: pointer;\n      font-style: normal;\n    }\n  }\n\n  .multiple-choice-prompt {\n    font-weight: 600;\n  }\n\n  .free-response {\n    padding: ${layouts.answer.horizontalSpacing} ${layouts.answer.horizontalBuffer};\n    margin: ${layouts.answer.verticalSpacing} 0 ${layouts.answer.horizontalSpacing} ${layouts.answer.verticalSpacing};\n    border-left: ${layouts.answer.horizontalSpacing} solid ${colors.palette.neutralLighter};\n    font-style: italic;\n  }\n\n  &:not(.openstax-question-preview) {\n    .answers-answer {\n      width: initial;\n      &:not(.disabled){\n        .answer-label:focus{\n          background-color: ${colors.palette.neutralLightest};\n        }\n      }\n      ${mixins.answer()};\n    }\n\n    .answer-answer {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      margin-left: ${layouts.answer.horizontalSpacing};\n      * {\n        margin: 0;\n      }\n    }\n\n    .answers-answer.answer-correct .answer-answer {\n      align-items: flex-start;\n      margin-top: calc((${layouts.answer.bubbleSize} / 2) - 1rem);\n    }\n\n    .answer-letter {\n      text-align: center;\n      padding: 0;\n      font-size: 1.6rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .answer-label {\n      font-weight: normal;\n      width: 100%;\n      padding: ${layouts.answer.verticalSpacing} 0 0 0;\n      margin: 0;\n\n      transition: color ${transitions.answer};\n    }\n\n    // a selectable answer\n    .answer-input-box:not([disabled]) ~ .answer-label {\n      cursor: pointer;\n\n      &:hover {\n        ${mixins.answerHover()}\n      }\n    }\n\n    // a selected answer\n    &:not(.has-correct-answer) {\n      .answer-input-box {\n        display: none;\n\n        &:checked {\n          + .answer-label,\n          + .answer-label:hover {\n            ${mixins.answerChecked()};\n          }\n        }\n      }\n\n      .answer-checked{\n        .answer-label {\n          ${mixins.answerChecked()};\n        }\n      }\n    }\n\n    // answer that has been checked\n    &.has-correct-answer {\n      .answer-checked {\n        &:not(.answer-correct) {\n          .answer-label {\n            ${mixins.answerIncorrect()};\n          }\n        }\n\n        &.answer-correct {\n          .answer-label {\n            ${mixins.answerCorrect()};\n          }\n        }\n      }\n\n      .answer-correct:not(.answer-checked) {\n        .answer-label {\n          ${mixins.answerCorrectAnswer()}\n        }\n      }\n    }\n\n    &.has-incorrect-answer {\n      .answer-incorrect, .answer-checked.answer-incorrect {\n        .answer-label {\n          ${mixins.answerIncorrect()}\n        }\n      }\n    }\n\n    .question-feedback {\n      ${mixins.popover()}\n      max-width: ${layouts.answer.feedback.popover.maxWidth};\n      .question-feedback-content {\n        padding: ${layouts.answer.feedback.popover.verticalSpacing} ${layouts.answer.feedback.popover.horizontalSpacing};\n      }\n    }\n  }\n\n  .openstax-answer {\n    border-top: 1px solid #d5d5d5;\n    margin: 10px 0;\n    padding: 6px 8px;\n  }\n}\n`;\n\nexport interface QuestionProps {\n  question: ExerciseQuestionData,\n  answer_id?: ID;\n  task?: Task | null,\n  correct_answer_id: ID | null;\n  incorrectAnswerId: ID;\n  hideAnswers: boolean;\n  hidePreambles?: boolean,\n  exercise_uid?: string;\n  displayFormats: boolean,\n  className: string;\n  questionNumber: number;\n  displaySolution: boolean;\n  context?: string;\n  correct_answer_feedback_html?: string;\n  contentRenderer?: JSX.Element;\n  feedback_html: string;\n  onChange: () => void;\n  show_all_feedback?: boolean;\n  tableFeedbackEnabled?: boolean;\n  children?: ReactNode;\n  answerIdOrder?: ID[];\n  choicesEnabled?: boolean;\n}\n\nexport const Question = React.forwardRef((props: QuestionProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n  let exerciseUid, solution;\n\n  const {\n    question, correct_answer_id, incorrectAnswerId, exercise_uid, className, questionNumber, context, task, hidePreambles\n  } = props;\n\n  const { stem_html, collaborator_solutions = [], formats, stimulus_html } = question;\n\n  const hasCorrectAnswer = !!correct_answer_id;\n  const hasIncorrectAnswer = !!incorrectAnswerId;\n\n  const taskIsDeleted = (task != null ? task.is_deleted : undefined)\n  const taskIsHomework = ((task != null ? task.type : undefined) === 'homework');\n\n  const classes = classnames('openstax-question', className, {\n    'has-correct-answer': hasCorrectAnswer && !(taskIsDeleted && taskIsHomework),\n    'has-incorrect-answer': hasIncorrectAnswer,\n  });\n\n  const hasSolution = () => {\n    const { displaySolution } = props;\n    const { collaborator_solutions = [] } = question;\n\n    return (\n      displaySolution &&\n      collaborator_solutions &&\n      collaborator_solutions.find(s => s['content_html'] !== undefined)\n    );\n  };\n\n  if (exercise_uid != null) {\n    exerciseUid = (\n      <div className=\"exercise-uid\">\n        {exercise_uid}\n      </div>\n    );\n  }\n\n  if (hasSolution()) {\n    solution =\n      <div className=\"detailed-solution\">\n        <div className=\"header\">\n          Detailed solution:\n        </div>\n        <Content\n          className=\"solution\"\n          block={true}\n          html={collaborator_solutions.map(s => s['content_html']).join('')} />\n      </div>;\n  }\n\n  return (\n    <StyledQuestion ref={ref} className={classes} data-question-number={questionNumber} data-test-id=\"question\">\n      <QuestionHtml type=\"context\" html={context} hidden={hidePreambles} />\n      <QuestionHtml type=\"stimulus\" html={stimulus_html} hidden={hidePreambles} />\n      <QuestionHtml type=\"stem\" html={stem_html} hidden={hidePreambles} questionNumber={questionNumber} />\n      {props.children}\n\n      <AnswersTable\n        {...props}\n        onChangeAnswer={props.onChange}\n        hasCorrectAnswer={hasCorrectAnswer} />\n\n      {solution}\n      {props.displayFormats ? <FormatsListing formats={formats} /> : undefined}\n      {exerciseUid}\n    </StyledQuestion>\n  );\n});\n\ninterface QuestionHtmlProps {\n  html?: string;\n  type: string;\n  hidden: QuestionProps['hidePreambles'];\n  questionNumber?: QuestionProps['questionNumber'];\n}\n\nexport const QuestionHtml = (props: QuestionHtmlProps) => {\n  const { html = '', type, hidden, questionNumber } = props;\n  if (hidden === true || !(html.length > 0)) { return null; }\n\n  return (\n    <Content\n      html={html}\n      data-question-number={questionNumber}\n      className={`question-${type}`}\n      block={true}\n    />\n  );\n};\n\nconst FormatsListing = ({ formats = [] }: { formats: ExerciseQuestionData['formats'] }) => {\n  return (\n    <div className=\"formats-listing\">\n      <div className=\"header\">Formats:</div>\n      {formats.map((format, i) => <span key={i}>{format}</span>)}\n    </div>\n  );\n};\n","import { MouseEventHandler, ReactNode } from 'react';\nimport { countWords } from '../utils';\nimport styled, { css } from 'styled-components';\nimport { colors, mixins } from '../theme';\nimport { AvailablePoints, ExerciseQuestionData } from 'src/types';\nimport { QuestionHtml } from './Question';\nimport Button from './Button';\nimport { StepCardFooter } from './StepCardFooter';\n\nexport interface FreeResponseProps {\n  readOnly: boolean;\n  wordLimit: number;\n  infoRowChildren?: ReactNode;\n  pointsChildren?: ReactNode;\n  onChange: (event: React.ChangeEvent<HTMLTextAreaElement>) => void;\n  cancelHandler: MouseEventHandler<HTMLButtonElement>;\n  saveHandler: MouseEventHandler<HTMLButtonElement>;\n  defaultValue: string;\n  isSubmitDisabled: boolean;\n  questionNumber: number,\n  question: ExerciseQuestionData,\n  availablePoints: AvailablePoints,\n  textHasChanged: boolean;\n  submitBtnLabel: string;\n}\n\nconst TextAreaErrorStyle = css`\n  background-color: #f5e9ea;\n`;\n\nconst StyledFreeResponse = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  .step-card-body {\n    ${mixins.stepCardPadding()}\n  }\n`;\n\nconst SyledQuestionStem = styled.div`\n  font-size: 2rem;\n  line-height: 1.68em;\n  position: relative;\n`;\n\nconst InfoRow = styled.div<{ hasChildren: boolean }>`\n  margin: 8px 0;\n  display: flex;\n  justify-content: ${props => props.hasChildren ? 'space-between' : 'flex-end'};\n  line-height: 1.6rem;\n\n  .word-limit-error-info {\n    color: ${colors.palette.danger};\n  }\n\n  div > span {\n    font-size: 12px;\n    line-height: 16px;\n\n    + span {\n      margin-left: 1rem;\n    }\n  }\n\n  .last-submitted + * {\n    margin-top: 0.8rem;\n  }\n\n  color: ${colors.palette.neutralThin};\n`;\n\nexport const FreeResponseTextArea = styled.textarea<{ isOverWordLimit: boolean } & FreeResponseProps>`\n  display: block;\n  font-family: inherit;\n  font-size: 1.8rem;\n  line-height: 3rem;\n  width: 100%;\n  min-height: 10.5em;\n  line-height: 1.5em;\n  margin: 2.5rem 0 0 0;\n  padding: 0.5em;\n  border: 1px solid ${colors.palette.neutral};\n  color: ${colors.palette.neutralDark};\n  ${props => props.isOverWordLimit && TextAreaErrorStyle};\n  ${props => props.isOverWordLimit && css`\n    border: 2px solid ${colors.palette.danger};\n  `}\n  background-color: ${props => props.readOnly && colors.palette.neutralCool};\n`;\nFreeResponseTextArea.displayName = 'OSFreeResponseTextArea';\n\nconst RevertButton = (props: {\n  disabled: boolean\n} & React.ComponentPropsWithoutRef<'button'>) => (\n  <Button {...props}>\n    Cancel\n  </Button>\n);\n\n\nexport const FreeResponseInput = (props: FreeResponseProps) => {\n  const {\n    availablePoints,\n    cancelHandler,\n    defaultValue,\n    infoRowChildren,\n    isSubmitDisabled,\n    pointsChildren,\n    question,\n    questionNumber,\n    saveHandler,\n    submitBtnLabel,\n    textHasChanged,\n    wordLimit,\n  } = props;\n\n  const isOverWordLimit = countWords(defaultValue) > wordLimit;\n\n  const questionProps = {};\n  if (questionNumber) { questionProps['data-question-number'] = questionNumber; }\n\n  return (\n    <StyledFreeResponse data-test-id=\"student-free-response\">\n      <div className=\"step-card-body\">\n        <SyledQuestionStem {...questionProps}>\n          {question.stem_html &&\n            <QuestionHtml type=\"stem\" html={question.stem_html} hidden={false} />}\n        </SyledQuestionStem>\n        <FreeResponseTextArea\n          {...props}\n          isOverWordLimit={isOverWordLimit}\n          data-test-id=\"free-response-box\"\n          placeholder=\"Enter your response...\"\n          aria-label=\"question response text box\"\n        />\n        <InfoRow hasChildren={!!infoRowChildren}>\n          {infoRowChildren}\n          <div>\n            <span>{countWords(defaultValue)} words</span>\n            {isOverWordLimit && <span className=\"word-limit-error-info\">Maximum {wordLimit} words</span>}\n          </div>\n        </InfoRow>\n      </div>\n      <StepCardFooter>\n        <div className=\"points\">\n          <strong>Points: {availablePoints}</strong>\n          {pointsChildren}\n        </div>\n        <div className=\"controls\">\n          <RevertButton disabled={!textHasChanged} onClick={cancelHandler} />\n          <Button\n            data-test-id=\"submit-answer-btn\"\n            disabled={isSubmitDisabled || isOverWordLimit}\n            onClick={saveHandler}\n          >\n            {submitBtnLabel}\n          </Button>\n        </div>\n      </StepCardFooter>\n    </StyledFreeResponse>\n  );\n}\n\nFreeResponseInput.displayName = 'OSFreeResponse';\n","import styled from 'styled-components';\nimport { colors, mixins } from '../../src/theme';\nimport { ExerciseData } from '../../src/types';\nimport { faBookOpen } from '@fortawesome/free-solid-svg-icons/faBookOpen';\nimport { faTriangleExclamation } from '@fortawesome/free-solid-svg-icons/faTriangleExclamation';\nimport { faCircleInfo } from '@fortawesome/free-solid-svg-icons/faCircleInfo';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\ntype ExplanationType = 'multiple-choice' | 'two-step';\n\nconst TypeExplanations: { [key in ExplanationType]: string } = {\n  'multiple-choice': 'Select the best answer from the given list of distractors. Your instructor may or may not allow multiple attempts.',\n  'two-step': 'In a two-step question, OpenStax asks for your own answer first, then gives multiple-choice options to help you assess your learnings. \\\nRecalling the answer to a question from memory helps you to retain things longer.',\n}\n\nconst ItemWrapper = styled.div`\n  padding: 0.6rem 0.9rem;\n  .popover { display: none; }\n  &:hover {\n    svg path { fill: ${colors.palette.mediumBlue};}\n    .popover { display: flex; }\n  }\n`;\n\nconst InnerWrapper = styled.div`\n  position: relative;\n  display: flex;\n`;\n\nconst Popover = styled.div`\n  ${mixins.popover}\n  top: 3rem;\n  width: 20rem;\n  position: absolute;\n  font-size: 1.2rem;\n  line-height: 1.8rem;\n`;\n\ninterface PopoverItemProps {\n  text: string;\n  children: JSX.Element;\n  wrapperProps?: {\n    as: keyof JSX.IntrinsicElements;\n    href?: string;\n    target?: string;\n  }\n}\n\nconst PopoverItem = (props: PopoverItemProps) => (\n  <ItemWrapper {...props.wrapperProps}>\n    <InnerWrapper>\n      {props.children}\n      <Popover className=\"popover right\">\n        <div className=\"arrow\"></div>\n        <div className=\"content\">{props.text}</div>\n      </Popover>\n    </InnerWrapper>\n  </ItemWrapper>\n);\n\nconst PopoverItemsWrapper = styled.div`\n  max-width: 200px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst StyledFontAwesomeIcon = styled(FontAwesomeIcon)`\n  color: ${colors.palette.darkGray};\n  height: 1em;\n`;\n\nexport const ExerciseIcons = ({ exercise, topicUrl, errataUrl }:\n  { exercise: ExerciseData, topicUrl?: string, errataUrl?: string }) => {\n  const items = [];\n  const isMultipleChoice = exercise.questions.every((q) => q.answers.length > 0);\n  let typeExplanation;\n\n  if (isMultipleChoice && exercise.questions.find((q) => q.formats.includes('free-response'))) {\n    typeExplanation = TypeExplanations['two-step'];\n  } else if (isMultipleChoice) {\n    typeExplanation = TypeExplanations['multiple-choice'];\n  }\n\n  if (topicUrl) {\n    items.push(\n      <PopoverItem key='topic' text='View topic in textbook' wrapperProps={{ as: 'a', href: topicUrl, target: '_blank' }}>\n        <StyledFontAwesomeIcon icon={faBookOpen}></StyledFontAwesomeIcon>\n      </PopoverItem>\n    );\n  }\n\n  items.push(\n    <PopoverItem key='errata' text='Suggest a correction' wrapperProps={{ as: 'a', href: errataUrl, target: '_blank' }}>\n      <StyledFontAwesomeIcon icon={faTriangleExclamation}></StyledFontAwesomeIcon>\n    </PopoverItem>\n  )\n\n  if (typeExplanation) {\n    items.push(\n      <PopoverItem key='type' text={typeExplanation}>\n        <StyledFontAwesomeIcon icon={faCircleInfo} height='16px' width='16px'></StyledFontAwesomeIcon>\n      </PopoverItem>\n    )\n  }\n\n  return (\n    <PopoverItemsWrapper>\n      {items}\n    </PopoverItemsWrapper>\n  );\n};\n","import React from \"react\";\nimport { numberfyId } from \"../../src/utils\";\nimport { AvailablePoints, ID, ExerciseQuestionData, Task } from \"../types\";\nimport Button from \"./Button\";\nimport { Content } from \"./Content\";\nimport { ExerciseBaseProps } from \"./Exercise\";\nimport { Question } from './Question';\nimport { StepCardFooter } from \"./StepCardFooter\";\n\nexport interface ExerciseQuestionProps {\n  task?: Task;\n  question: ExerciseQuestionData;\n  answer_id_order?: ID[];\n  questionNumber: number;\n  choicesEnabled: boolean;\n  hasMultipleAttempts: boolean;\n  onAnswerChange: () => void;\n  onAnswerSave: ExerciseBaseProps['onAnswerSave'];\n  onNextStep: ExerciseBaseProps['onNextStep'];\n  feedback_html: string;\n  correct_answer_feedback_html: string;\n  is_completed: boolean;\n  correct_answer_id: ID;\n  incorrectAnswerId: ID;\n  answer_id?: ID;\n  attempts_remaining: number;\n  published_comments?: string;\n  detailedSolution?: string;\n  canAnswer: boolean;\n  needsSaved: boolean;\n  canUpdateCurrentStep: boolean;\n  attempt_number: number;\n  apiIsPending: boolean;\n  displaySolution: boolean;\n  available_points: AvailablePoints;\n  exercise_uid: string;\n  free_response?: string;\n  show_all_feedback?: boolean;\n  tableFeedbackEnabled?: boolean;\n}\n\nconst AttemptsRemaining = ({ count }: { count: number }) => {\n  return (\n    <div>{count} attempt{count === 1 ? '' : 's'} left</div>\n  );\n}\n\nconst PublishedComments = ({ published_comments }: { published_comments?: string }) => {\n  if (!published_comments) { return null; }\n\n  return (\n    <div>\n      <strong>Feedback:</strong> {published_comments}\n    </div>\n  );\n}\n\nexport const SaveButton = (props: {\n  disabled: boolean, isWaiting: boolean, attempt_number: number\n} & React.ComponentPropsWithoutRef<'button'>) => (\n  <Button\n    {...props}\n    waitingText=\"Saving…\"\n    isWaiting={props.isWaiting}\n    data-test-id=\"submit-answer-btn\"\n  >\n    {props.attempt_number == 0 ? 'Submit' : 'Re-submit'}\n  </Button>\n);\n\nexport const NextButton = (props: {\n  canUpdateCurrentStep: boolean,\n} & React.ComponentPropsWithoutRef<'button'>) => {\n  return (\n    <Button {...props} data-test-id=\"continue-btn\">\n      {props.canUpdateCurrentStep ? 'Continue' : 'Next'}\n    </Button>\n  );\n}\n\nconst FreeResponseReview = ({ free_response }: Pick<ExerciseQuestionProps, \"free_response\">) => {\n  if (!free_response) { return null; }\n  return (\n    <>\n      <div className=\"free-response\">{free_response}</div>\n    </>\n  );\n}\n\nexport const ExerciseQuestion = React.forwardRef((props: ExerciseQuestionProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n  const {\n    question, task, answer_id_order, onAnswerChange, feedback_html, correct_answer_feedback_html,\n    is_completed, correct_answer_id, incorrectAnswerId, choicesEnabled, questionNumber,\n    answer_id, hasMultipleAttempts, attempts_remaining, published_comments, detailedSolution,\n    canAnswer, needsSaved, attempt_number, apiIsPending, onAnswerSave, onNextStep, canUpdateCurrentStep,\n    displaySolution, available_points, free_response, show_all_feedback, tableFeedbackEnabled\n  } = props;\n\n  return (\n    <div data-test-id=\"student-exercise-question\">\n      <Question\n        ref={ref}\n        task={task}\n        question={question}\n        answerIdOrder={answer_id_order}\n        choicesEnabled={choicesEnabled}\n        answer_id={answer_id}\n        questionNumber={questionNumber}\n        onChange={onAnswerChange}\n        feedback_html={feedback_html}\n        correct_answer_feedback_html={correct_answer_feedback_html}\n        correct_answer_id={is_completed ? correct_answer_id : null}\n        incorrectAnswerId={incorrectAnswerId}\n        className=\"step-card-body\"\n        hideAnswers={false}\n        displayFormats={false}\n        displaySolution={displaySolution}\n        show_all_feedback={show_all_feedback}\n        tableFeedbackEnabled={tableFeedbackEnabled}\n      >\n        <FreeResponseReview free_response={free_response} />\n      </Question>\n      <StepCardFooter className=\"step-card-footer\">\n        <div className=\"step-card-footer-inner\">\n          <div className=\"points\">\n            <strong>Points: {available_points}</strong>\n            <span className=\"attempts-left\">\n              {hasMultipleAttempts &&\n                attempts_remaining > 0 &&\n                <AttemptsRemaining count={attempts_remaining} />}\n            </span>\n            <PublishedComments published_comments={published_comments} />\n            {detailedSolution && (<div><strong>Detailed solution:</strong> <Content html={detailedSolution} /></div>)}\n          </div>\n          <div className=\"controls\">\n            {canAnswer && needsSaved ?\n              <SaveButton\n                disabled={apiIsPending || !answer_id}\n                isWaiting={apiIsPending}\n                attempt_number={attempt_number}\n                onClick={() => onAnswerSave(numberfyId(question.id))}\n              /> :\n              <NextButton onClick={() => onNextStep(questionNumber - 1)} canUpdateCurrentStep={canUpdateCurrentStep} />}\n          </div>\n        </div>\n      </StepCardFooter>\n    </div>\n  );\n})\n","import React from 'react';\nimport scrollToElement from 'scroll-to-element';\nimport styled from 'styled-components';\nimport { Answer, ExerciseData, ID, QuestionState, StepBase, StepWithData } from '../../src/types';\nimport { TaskStepCard } from './Card';\nimport { Content } from './Content';\nimport { ExerciseIcons } from './ExerciseIcons';\nimport { ExerciseQuestion } from './ExerciseQuestion';\n\nconst StyledTaskStepCard = styled(TaskStepCard)`\n  font-size: 1.8rem;\n  line-height: 2.8rem;\n`;\n\nconst Preamble = ({ exercise }: { exercise: ExerciseData }) => {\n  return (\n    <>\n      {exercise.context &&\n        <Content className=\"step-card-body exercise-context\"\n          block html={exercise.context} />}\n\n      {exercise.stimulus_html &&\n        <Content className=\"step-card-body exercise-stimulus\"\n          block html={exercise.stimulus_html} />}\n    </>\n  );\n};\n\nexport interface ExerciseBaseProps {\n  /** An object containing a Step ID and Exercise UID */\n  step: StepBase;\n  /** An exercise object from the Exercises API */\n  exercise: ExerciseData;\n  numberOfQuestions: number;\n  /** The current question index. For multipart questions this is the first question number.  */\n  questionNumber: number;\n  /** A boolean that enables showing the amount of attempts remaining. */\n  hasMultipleAttempts: boolean;\n  /** A callback with the question_id when the Submit/Re-submit button is clicked. */\n  onAnswerSave: (question_id: number) => void;\n  /** A callback with the current question index when the Next/Continue button is clicked. */\n  onNextStep: (currentIndex: number) => void;\n  /** A boolean that enables always showing every answer feedback_html field. */\n  show_all_feedback?: boolean;\n  /** The question number to scroll into view when the component renders. */\n  scrollToQuestion?: number;\n  /** A boolean that enables showing exercise icons in the card header:\n   * - An info icon describing the exercise type (multiple-choice, two-step, etc.)\n   * - A topic icon linking to the relevant textbook location\n   * - An errata icon linking to the errata/feedback form\n   */\n  showExerciseIcons?: boolean;\n  /** A URL for textbook content relevant to the exercise. */\n  topicUrl?: string;\n  /** A URL for the errata form. */\n  errataUrl?: string;\n}\n\nexport interface ExerciseWithStepDataProps extends ExerciseBaseProps {\n  /** A Tutor Step object */\n  step: StepWithData;\n  canAnswer: boolean;\n  needsSaved: boolean;\n  apiIsPending: boolean;\n  onAnswerChange: (answer: Answer) => void;\n  canUpdateCurrentStep: boolean;\n  answer_id_order?: ID[];\n}\n\nexport interface ExerciseWithQuestionStatesProps extends ExerciseBaseProps {\n  questionStates: { [key: ID]: QuestionState };\n  /** A callback with the IDs of the answer and question */\n  onAnswerChange: (answer: Omit<Answer, 'id'> & { id: number, question_id: number }) => void;\n}\n\nexport const Exercise = ({\n  numberOfQuestions, questionNumber, step, exercise, show_all_feedback, scrollToQuestion, ...props\n}: ExerciseWithStepDataProps | ExerciseWithQuestionStatesProps) => {\n  const legacyStepRender = 'feedback_html' in step;\n  const questionsRef = React.useRef<Array<HTMLDivElement>>([]);\n\n  React.useEffect(() => {\n    const el = scrollToQuestion && questionsRef.current[scrollToQuestion];\n    if (el) {\n      scrollToElement(el);\n    }\n  }, [scrollToQuestion, exercise]);\n\n  return (<StyledTaskStepCard\n    step={step}\n    questionNumber={questionNumber}\n    numberOfQuestions={legacyStepRender ? numberOfQuestions : exercise.questions.length}\n    rightHeaderChildren={props.showExerciseIcons ?\n      <ExerciseIcons exercise={exercise} topicUrl={props.topicUrl} errataUrl={props.errataUrl} /> : null}\n    showTotalQuestions={legacyStepRender}\n  >\n    <Preamble exercise={exercise} />\n\n    {exercise.questions.map((q, i) => {\n      const state = { ...(legacyStepRender ? step : props['questionStates'][q.id]) };\n      return (\n        <ExerciseQuestion\n          {...props}\n          {...state}\n          ref={(el: HTMLDivElement) => questionsRef.current[questionNumber + i] = el}\n          exercise_uid={exercise.uid}\n          key={q.id}\n          question={q}\n          questionNumber={questionNumber + i}\n          choicesEnabled={state.canAnswer}\n          displaySolution={true}\n          detailedSolution={state.solution?.content_html}\n          show_all_feedback={show_all_feedback}\n          tableFeedbackEnabled={show_all_feedback && !legacyStepRender}\n          canUpdateCurrentStep={\n            // misleading prop name, we want to show a continue button for completed questions\n            // that aren't the last question, which requires this prop to be true\n            'canUpdateCurrentStep' in props ?\n              props.canUpdateCurrentStep : !(i + 1 === exercise.questions.length)\n          }\n        />\n      )\n    }\n    )}\n  </StyledTaskStepCard>\n  )\n};\n","const SvgComponent = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M14.556 2.09149C15.2296 1.78355 16 2.26721 16 2.99824V10.5951C16 10.9241 15.8362 11.2328 15.5605 11.4188C14.4229 12.1864 13.2007 12.6956 11.6715 12.6956C9.53267 12.6956 8.12768 11.6087 6.42651 11.6087C4.81213 11.6087 3.69241 11.923 2.79365 12.3V15.25C2.79365 15.6642 2.45254 16 2.03175 16H1.52381C1.10302 16 0.761905 15.6642 0.761905 15.25V3.18577C0.301492 2.86952 0 2.34455 0 1.74999C0 0.75924 0.836349 -0.0391985 1.852 0.00148899C2.75575 0.0376765 3.49578 0.75049 3.55203 1.63912C3.56854 1.8998 3.52632 2.1488 3.43819 2.37543C4.09648 2.13699 4.80613 1.99999 5.59835 1.99999C7.73718 1.99999 9.14216 3.08696 10.8433 3.08696C12.1289 3.08696 13.4659 2.5899 14.556 2.09149ZM2.79365 4.20718V6.40999C3.71429 6.07656 4.41841 5.85281 5.13016 5.75656V3.51999C4.38413 3.5878 3.84635 3.82593 2.79365 4.20718ZM9.80317 4.49437C8.96454 4.34837 8.21949 4.05752 7.46667 3.82749V5.93437C8.23413 6.14393 8.9767 6.44824 9.80317 6.63156V4.49437ZM5.13016 5.75656V7.94531C6.1713 7.85224 6.84159 7.92546 7.46667 8.06406V5.93437C6.66517 5.71452 5.98791 5.6399 5.13016 5.75656ZM7.46667 10.2012C8.30279 10.3466 9.04546 10.6365 9.80317 10.8681V8.76156C9.03248 8.55074 8.29397 8.24749 7.46667 8.06406V10.2012ZM2.79365 10.6906C3.54349 10.4284 4.31079 10.2581 5.13016 10.1731V7.94531C4.30127 8.01874 3.62667 8.19656 2.79365 8.48781V10.6906ZM14.4762 3.76562C13.8 4.04218 12.9971 4.31687 12.1397 4.4678V6.71499C13.0067 6.57874 13.7279 6.27437 14.4762 5.96843V3.76562ZM14.4762 10.3269V8.12406C13.7717 8.56781 12.9276 8.83062 12.1397 8.93718V11.1741C12.9356 11.0997 13.679 10.8291 14.4762 10.3269ZM9.80317 6.63156V8.76156C10.6179 8.9845 11.283 9.05349 12.1397 8.93718V6.71499C11.3143 6.84584 10.5542 6.79862 9.80317 6.63156Z\" fill=\"currentColor\"/>\n  </svg>\n);\nexport default SvgComponent;\n","import styled, { css } from 'styled-components';\nimport { colors, breakpoints } from '../theme';\nimport FlagIcon from '../assets/flag';\n\nconst ProgressBarWrapper = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  padding: 2rem;\n  ${breakpoints.mobile`\n    padding: 0;\n  `}\n`;\n\nconst StyledItemWrapper = styled.span`\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n\n  &::after {\n    content: \"\";\n    display: block;\n    height: 0.1rem;\n    width: 1rem;\n    background-color: ${colors.palette.pale};\n  }\n\n  &:last-child {\n    &::after {\n      content: none;\n    }\n  }\n\n  ${breakpoints.mobile`\n    &::after {\n      width: 3.3rem;\n    }\n  `}\n`;\n\nconst handleVariant = (variant: ProgressBarItemVariant, isActive: boolean) => {\n  switch (variant) {\n    case 'isStatus':\n      return css`\n        color: ${isActive ? colors.palette.white : colors.palette.darkGray};\n        background-color: ${isActive ? colors.palette.darkGray : colors.palette.neutralLight};\n        border: none;\n        box-shadow: ${isActive ? '0px 0px 2px rgba(0, 0, 0, 0.4), 0px 0px 6px rgba(0, 0, 0, 0.2)' : 'none'};\n      `;\n    case 'isCorrect':\n      return css`\n        color: ${colors.palette.white};\n        background-color: rgba(99, 165, 36, 0.6);\n        border-color: ${colors.palette.darkGreen};\n        box-shadow: ${isActive ? '0 0 6px rgba(0, 0, 0, 0.4)' : 'none'};\n      `;\n    case 'isIncorrect':\n      return css`\n        color: ${colors.palette.white};\n        background-color: ${colors.palette.lightRed};\n        border-color: ${colors.palette.darkRed};\n        box-shadow: ${isActive ? '0 0 6px rgba(0, 0, 0, 0.4)' : 'none'};\n      `;\n    default:\n      return css`\n        color: ${colors.palette.darkGray};\n        background-color: ${isActive ? colors.palette.white : colors.palette.neutralLight};\n        border-color: ${isActive ? colors.palette.darkGray : colors.palette.neutralLight};\n        box-shadow: ${isActive ? '0 0 6px rgba(0, 0, 0, 0.4)' : 'none'};\n      `;\n  }\n};\n\nexport const StyledItem = styled.button<{ variant: ProgressBarItemVariant, isActive: boolean }>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 2.4rem;\n  height: 2.4rem;\n  border-radius: 50%;\n  border-width: 1px;\n  border-style: solid;\n  margin: 0 0.3rem;\n  font-size: 1.4rem;\n  font-weight: bold;\n  cursor: pointer;\n  ${props => handleVariant(props.variant, props.isActive)}\n`;\n\nexport interface ProgressBarProps<S extends {variant: ProgressBarItemVariant}> {\n  steps: S[];\n  activeIndex: number | null;\n  goToStep: (index: number, step: S) => void;\n}\n\nexport interface ProgressBarItemProps<S> {\n  index: number;\n  isActive: boolean;\n  step: S;\n  goToStep: (index: number, step: S) => void;\n}\n\nexport type ProgressBarItemVariant = 'isCorrect' | 'isIncorrect' | 'isStatus' | null;\n\nexport const ProgressBarItem = <S extends {variant: ProgressBarItemVariant}>({index, isActive, step, goToStep}: ProgressBarItemProps<S>) =>\n  <StyledItemWrapper>\n    <StyledItem variant={step.variant} isActive={isActive} onClick={() => goToStep(index, step)}>\n      {step.variant === 'isStatus' ? <FlagIcon /> : index + 1}\n    </StyledItem>\n  </StyledItemWrapper>;\n\nexport const ProgressBar = <S extends {variant: ProgressBarItemVariant}>({ steps, activeIndex, goToStep }: ProgressBarProps<S>) => <ProgressBarWrapper>\n  {steps.map((step, index) => <ProgressBarItem\n    key={index}\n    index={index}\n    isActive={index === activeIndex}\n    step={step}\n    goToStep={goToStep}\n  />)}\n</ProgressBarWrapper>;\n\n","import { BulletList } from \"react-content-loader\";\nimport { colors } from \"../../src/theme\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  max-width: 1000px;\n  @media(min-width: 960px) {\n    // Around the height of a multiple choice with 4 options\n    min-height: 53.8rem;\n  }\n  padding: 2rem;\n  margin: 2rem;\n  border: 1px solid ${colors.palette.light};\n  border-radius: 0.25rem;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  > svg {\n    max-width: 600px;\n    flex-grow: 1;\n  }\n`;\n\nexport const Loader = () => <Wrapper><BulletList uniqueKey=\"OSLoader\" /></Wrapper>;\n"],"names":["ALPHABET","answer","incorrectAnswerId","id","countWords","text","words","trim","match","length","_ref","html","component","block","_ref$block","props","undefined","React","cloneElement","_jsx","jsx","_extends","dangerouslySetInnerHTML","__html","SimpleFeedback","children","Content","contentRenderer","className","classnames","Feedback","wrapperClasses","position","_jsxs","Answer","body","feedback","selectedCount","onChangeAnswer","radioBox","type","iter","disabled","onKeyPress","qid","correctAnswerId","hasCorrectAnswer","answered_count","show_all_feedback","tableFeedbackEnabled","isChecked","chosenAnswer","find","a","isAnswerChecked","isCorrect","correctness","isAnswerCorrect","isIncorrect","isAnswerIncorrect","correctIncorrectIcon","cn","ariaLabel","checked","name","onChange","feedback_html","percent","selected_count","Math","round","jsxs","green","red","content_html","_Fragment","htmlFor","onClick","role","classes","displayName","AnswersTable","idCounter","question","correct_answer_id","correct_answer_feedback_html","_props$show_all_feedb","answerIdOrder","instructions","hideAnswers","idOrder","questionAnswerProps","answer_id","defaultAnswerType","choicesEnabled","answersHtml","answers","slice","sort","b","indexOf","map","i","additionalProps","question_id","parseInt","key","answerProps","Object","assign","push","index","forEach","item","spliceIndex","splice","palette","danger","darkRed","lightRed","lightGreen","darkGreen","paleYellow","teal","blue","mediumBlue","lightBlue","neutralLightBlue","tangerine","gray","darkGray","pale","light","white","neutralLightest","neutralCool","neutralBright","neutralLighter","neutralLight","neutralMedium","neutral","neutralThin","neutralDark","neutralFeedback","neutralDarker","black","orange","colors","color","correct","background","incorrect","hover","label","colorHover","colorSelected","popover","arrowOuterColor","borderColor","card","header","button","backgroundHover","backgroundActive","freeResponse","breakpoints","css","_templateObject","_taggedTemplateLiteralLoose","apply","call","arguments","_templateObject2","BREAKPOINTS","mixins","_templateObject5","answerColor","values","answerChecked","answerCorrect","answerIncorrect","answerHover","answerCorrectText","_templateObject8","answerCorrectAnswer","_templateObject9","resetText","_templateObject10","stepCardPadding","_templateObject11","_templateObject12","_templateObject14","styled","div","OuterStepCard","_templateObject3","_templateObject4","StepCardHeader","_templateObject7","StepCardQuestion","questionNumber","numberOfQuestions","showTotalQuestions","stepType","isHomework","availablePoints","unpadded","questionId","multipartBadge","leftHeaderChildren","rightHeaderChildren","headerTitleChildren","otherProps","InnerStepCard","StepCard","TaskStepCard","step","_ref2","_objectWithoutPropertiesLoose","_excluded2","task","available_points","uid","StyledButton","Button","isWaiting","waitingText","_excluded","CompletionStatusCard","h2","StyledQuestion","Question","forwardRef","ref","solution","exercise_uid","context","hidePreambles","stem_html","collaborator_solutions","_question$collaborato","formats","stimulus_html","is_deleted","exerciseUid","_question$collaborato2","displaySolution","s","hasSolution","join","QuestionHtml","hidden","displayFormats","FormatsListing","_props$html","_ref$formats","format","TextAreaErrorStyle","StyledFreeResponse","SyledQuestionStem","InfoRow","hasChildren","FreeResponseTextArea","textarea","isOverWordLimit","_templateObject6","readOnly","RevertButton","FreeResponseInput","cancelHandler","defaultValue","infoRowChildren","isSubmitDisabled","pointsChildren","saveHandler","submitBtnLabel","textHasChanged","wordLimit","questionProps","placeholder","StepCardFooter","ItemWrapper","InnerWrapper","Popover","PopoverItem","wrapperProps","PopoverItemsWrapper","FontAwesomeIcon","ExerciseIcons","exercise","topicUrl","errataUrl","isMultipleChoice","questions","every","q","includes","typeExplanation","items","as","href","target","StyledFontAwesomeIcon","icon","faBookOpen","faTriangleExclamation","faCircleInfo","height","width","AttemptsRemaining","count","published_comments","SaveButton","attempt_number","NextButton","canUpdateCurrentStep","_ref3","free_response","ExerciseQuestion","hasMultipleAttempts","attempts_remaining","detailedSolution","canAnswer","needsSaved","apiIsPending","onAnswerSave","onNextStep","answer_id_order","onAnswerChange","is_completed","FreeResponseReview","PublishedComments","StyledTaskStepCard","Preamble","Fragment","SvgComponent","viewBox","fill","xmlns","d","ProgressBarWrapper","StyledItemWrapper","span","StyledItem","handleVariant","variant","isActive","ProgressBarItem","goToStep","FlagIcon","Wrapper","numberCompleted","handleClick","allCompleted","someCompleted","buttonText","CompletionHeader","split","toLowerCase","scrollToQuestion","useRef","useEffect","el","questionsRef","current","scrollToElement","legacyStepRender","showExerciseIcons","state","createElement","_state$solution","BulletList","uniqueKey","activeIndex","steps"],"mappings":"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"}