{"version":3,"file":"index.modern.mjs","sources":["../src/utils.ts","../src/components/Content.tsx","../src/components/Feedback.tsx","../src/components/Answer.tsx","../src/constants.ts","../src/components/AnswersTable.tsx","../src/theme.ts","../src/components/Question.tsx","../src/components/Button.tsx","../src/components/StepCardFooter.tsx","../src/components/FreeResponseInput.tsx","../src/components/Card.tsx","../src/components/ExerciseQuestion.tsx","../src/components/Exercise.tsx","../src/components/ProgressBar.tsx"],"sourcesContent":["import { Answer, ChosenAnswer, ID } from '../src/types';\n\nexport const ALPHABET = 'abcdefghijklmnopqrstuvwxyz';\n\nconst MAX_CORRECTNESS = '1.0';\n\nexport const isAnswerCorrect = function(answer: Answer, correctAnswerId?: ID | null) {\n  // if answer does not have an id, check the isCorrect property.\n  if (!(answer.id || correctAnswerId)) {\n    return answer.isCorrect;\n  }\n  let isCorrect = answer.id === correctAnswerId;\n  if (answer.correctness != null) { isCorrect = (answer.correctness === MAX_CORRECTNESS); }\n\n  return isCorrect;\n};\n\nexport const isAnswerIncorrect = function(answer: Answer, incorrectAnswerId?: ID) {\n  // Allow multiple attempts to show incorrectness without the correct_answer_id\n  return answer.id === incorrectAnswerId;\n};\n\nexport const isAnswerChecked = (answer: Answer, chosenAnswer?: ChosenAnswer) =>\n  Boolean((chosenAnswer || []).find( a => a == answer.id));\n\nexport function countWords(text: string) {\n  const trimmedText = text.trim();\n  //https://css-tricks.com/build-word-counter-app/\n  const words = trimmedText.match(/\\b[-?(\\w+)?]+\\b/gi);\n  if(!words) return 0;\n  return words.length;\n}\n","import React from \"react\";\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\ntype ComponentType = keyof JSX.IntrinsicElements | React.JSXElementConstructor<any>;\n\nexport interface ContentProps<T extends ComponentType | undefined> {\n  className?: string;\n  component?: T extends undefined ? undefined :\n    T extends ComponentType ? React.ReactComponentElement<T>:\n    never;\n  html: string;\n  block?: boolean;\n}\n\nexport const Content = (<T extends ComponentType | undefined>(\n  {html, component, block = false, ...props}: ContentProps<T>\n) => {\n  if (component !== undefined) {\n    return React.cloneElement(component, {html, ...props});\n  }\n  if (block) {\n    return <div dangerouslySetInnerHTML={{ __html: html }} {...props} />;\n  } else {\n    return <span dangerouslySetInnerHTML={{ __html: html }} {...props} />;\n  }\n});\n","import classnames from 'classnames';\nimport { Content } from './Content';\n\ninterface FeedbackProps {\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  children: string;\n  className?: string;\n  contentRenderer?: JSX.Element;\n}\n\nconst SimpleFeedback = (props: Pick<FeedbackProps, 'children' | 'className' | 'contentRenderer'>) => (\n  <aside>\n    <Content\n      component={props.contentRenderer}\n      className={classnames('question-feedback-content', 'has-html', props.className)}\n      html={props.children}\n      block={true} />\n  </aside>\n);\n\nconst Feedback = (props: FeedbackProps) => {\n  const position = props.position || 'bottom';\n  const wrapperClasses = classnames('question-feedback', position);\n\n  return (\n    <aside className={wrapperClasses}>\n      <div className=\"arrow\" aria-label=\"Answer Feedback\" />\n      <SimpleFeedback {...props}>\n        {props.children}\n      </SimpleFeedback>\n    </aside>\n  );\n};\n\nexport { Feedback, SimpleFeedback };\n","import cn from 'classnames';\nimport { ReactNode } from 'react';\nimport { ALPHABET, isAnswerChecked, isAnswerCorrect, isAnswerIncorrect } from '../utils';\nimport { Answer as AnswerType, ChosenAnswer, ID } from '../types';\nimport { Content } from './Content';\nimport { SimpleFeedback } from './Feedback';\n\nexport interface AnswerProps {\n  answer: AnswerType;\n  iter: number;\n  qid: ID;\n  type: 'teacher-review' | 'teacher-preview' | 'student' | 'student-mpp';\n  hasCorrectAnswer?: boolean;\n  onChangeAnswer?: (answer: AnswerType & { question_id: ID }) => void;\n  disabled: boolean;\n  chosenAnswer: ChosenAnswer;\n  correctAnswerId?: ID | null;\n  incorrectAnswerId?: ID;\n  onKeyPress?: () => void;\n  answered_count?: number;\n  correctIncorrectIcon?: ReactNode,\n  radioBox?: ReactNode;\n  contentRenderer?: JSX.Element;\n  show_all_feedback?: boolean;\n}\n\nexport const Answer = (props: AnswerProps) => {\n  const {\n    type,\n    iter,\n    answer,\n    disabled,\n    onKeyPress,\n    qid,\n    chosenAnswer,\n    correctAnswerId,\n    incorrectAnswerId,\n    hasCorrectAnswer,\n    answered_count,\n    contentRenderer,\n    show_all_feedback\n  } = props;\n\n  let body, feedback, selectedCount;\n\n  const isChecked = isAnswerChecked(answer, chosenAnswer);\n  const isCorrect = isAnswerCorrect(answer, correctAnswerId);\n  const isIncorrect = isAnswerIncorrect(answer, incorrectAnswerId);\n\n  const correctIncorrectIcon = (\n    <div className=\"correct-incorrect\">\n      {isCorrect && props.correctIncorrectIcon}\n    </div>\n  );\n\n  const classes = cn('answers-answer', {\n    'disabled': disabled,\n    'answer-checked': isChecked,\n    'answer-correct': isCorrect && type !== 'student-mpp',\n    'answer-incorrect': incorrectAnswerId && isAnswerIncorrect(answer, incorrectAnswerId),\n  });\n\n  let ariaLabel = `${isChecked ? 'Selected ' : ''}Choice ${ALPHABET[iter]}`;\n  // somewhat misleading - this means that there is a correct answer,\n  // not necessarily that this answer is correct\n  if (hasCorrectAnswer) {\n    ariaLabel += `(${isCorrect ? 'Correct' : 'Incorrect'} Answer)`;\n  }\n  ariaLabel += ':';\n\n  let onChangeAnswer: AnswerProps['onChangeAnswer'], radioBox;\n\n  const onChange = () => onChangeAnswer && onChangeAnswer({ ...answer, question_id: qid });\n\n  if (!hasCorrectAnswer\n    && (type !== 'teacher-review')\n    && (type !== 'teacher-preview')\n    && (type !== 'student-mpp')) {\n    ({ onChangeAnswer } = props);\n  }\n\n  if (onChangeAnswer) {\n    radioBox = (\n      <input\n        type=\"radio\"\n        className=\"answer-input-box\"\n        checked={isChecked}\n        id={`${qid}-option-${iter}`}\n        name={`${qid}-options`}\n        onChange={onChange}\n        disabled={disabled}\n      />\n    );\n  }\n\n  if (show_all_feedback && answer.feedback_html) {\n    feedback = (\n      <SimpleFeedback key=\"question-mc-feedback\" contentRenderer={contentRenderer}>\n        {answer.feedback_html}\n      </SimpleFeedback>\n    );\n  }\n\n  if (type === 'teacher-review') {\n    let percent = 0;\n    if (answer.selected_count && answered_count) {\n      percent = Math.round((answer.selected_count / answered_count) * 100);\n    }\n    selectedCount = (\n      <span\n        className=\"selected-count\"\n        data-percent={`${percent}`}\n      >\n        {answer.selected_count}\n      </span>\n    );\n\n    body = (\n      <div className=\"review-wrapper\">\n        <div className={cn('review-count', { 'green': isCorrect, 'red': !isCorrect })}>\n          {selectedCount}\n          <span className={cn('letter', { 'green': isCorrect, 'red': !isCorrect })}>\n            {ALPHABET[iter]}\n          </span>\n        </div>\n\n        <div className=\"answer-answer\">\n          <Content className=\"answer-content\" component={contentRenderer} html={answer.content_html} />\n          {feedback}\n        </div>\n      </div>\n    );\n  } else {\n    body = (\n      <>\n        {type === 'teacher-preview' && correctIncorrectIcon}\n        {selectedCount}\n        {radioBox}\n        <label\n          onKeyPress={onKeyPress}\n          htmlFor={`${qid}-option-${iter}`}\n          className=\"answer-label\">\n          <span className=\"answer-letter-wrapper\">\n            <button\n              onClick={onChange}\n              aria-label={ariaLabel}\n              className=\"answer-letter\"\n              disabled={disabled || isIncorrect}\n              data-test-id={`answer-choice-${ALPHABET[iter]}`}\n            >\n              {ALPHABET[iter]}\n            </button>\n          </span>\n          <div className=\"answer-answer\">\n            <Content className=\"answer-content\" component={contentRenderer} html={answer.content_html} />\n            {feedback}\n          </div>\n        </label>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"openstax-answer\">\n      <section role=\"region\" className={classes}>\n        {body}\n      </section>\n    </div>\n  );\n}\nAnswer.displayName = 'OSAnswer';\n","import { AnswerDisplayType } from './types';\n\nexport const defaultAnswerType: AnswerDisplayType = 'student';\n","import { defaultAnswerType } from \"../constants\";\nimport { Answer as AnswerType, AnswerDisplayType, ID, ExerciseQuestionData } from \"src/types\";\nimport { Answer } from \"./Answer\";\nimport { Feedback } from \"./Feedback\";\n\nexport interface AnswersTableProps {\n  question: ExerciseQuestionData;\n  type?: AnswerDisplayType;\n  answer_id?: ID;\n  correct_answer_id?: ID | null;\n  incorrectAnswerId?: ID;\n  answerIdOrder?: ID[],\n  feedback_html: string;\n  correct_answer_feedback_html?: string;\n  answered_count?: number;\n  show_all_feedback?: boolean;\n  onChangeAnswer: () => void;\n  hideAnswers: boolean;\n  hasCorrectAnswer?: boolean;\n  onChangeAttempt?: () => void;\n  choicesEnabled?: boolean;\n  onKeyPress?: () => void;\n  contentRenderer?: JSX.Element;\n  instructions?: JSX.Element;\n}\n\nexport const AnswersTable = (props: AnswersTableProps) => {\n  let idCounter = 0;\n\n  const {\n    question, hideAnswers, type = defaultAnswerType, answered_count, choicesEnabled, correct_answer_id,\n    incorrectAnswerId, answer_id, feedback_html, correct_answer_feedback_html,\n    show_all_feedback = false, hasCorrectAnswer, onChangeAnswer, onKeyPress, answerIdOrder, instructions\n  } = props;\n  if (hideAnswers) { return null; }\n\n  const { id } = question;\n\n  const feedback: { index: number, html: string }[] = [];\n\n  const chosenAnswer = [answer_id];\n\n  const sortedAnswersByIdOrder = (idOrder: ID[]) => {\n    const { answers } = question;\n    return answers.slice().sort((a, b) => idOrder.indexOf(a.id) - idOrder.indexOf(b.id));\n  }\n\n  const questionAnswerProps = {\n    qid: id || `auto-${idCounter++}`,\n    correctAnswerId: correct_answer_id,\n    incorrectAnswerId,\n    hasCorrectAnswer,\n    chosenAnswer,\n    onChangeAnswer: onChangeAnswer,\n    type,\n    answered_count,\n    disabled: !choicesEnabled,\n    show_all_feedback,\n    onKeyPress\n  };\n\n  const answers = answerIdOrder ? sortedAnswersByIdOrder(answerIdOrder) : question.answers;\n\n  const answersHtml = answers.map((answer, i) => {\n    const additionalProps: { answer: AnswerType, iter: number, key: string }\n      = { answer, iter: i, key: `${questionAnswerProps.qid}-option-${i}` };\n    const answerProps = Object.assign({}, additionalProps, questionAnswerProps);\n\n    if (answer.id === incorrectAnswerId && feedback_html) {\n      feedback.push({ index: i, html: feedback_html })\n    } else if (answer.id === correct_answer_id && correct_answer_feedback_html) {\n      feedback.push({ index: i, html: correct_answer_feedback_html })\n    }\n\n    return (\n      <Answer {...answerProps} />\n    );\n  });\n\n  feedback.forEach((item, i) => {\n    const spliceIndex = item.index + i + 1;\n    answersHtml.splice(spliceIndex, 0, (\n      <Feedback key={spliceIndex} contentRenderer={props.contentRenderer}>\n        {item.html}\n      </Feedback>\n    ));\n  });\n\n  return (\n    <div className=\"answers-table\">\n      {instructions}\n      {answersHtml}\n    </div>\n  );\n}\n","import { css } from 'styled-components';\n\nconst palette = {\n  red: \"#ca2026\",\n  danger: \"#c2002f\",\n  darkRed: \"#c22032\",\n  lightRed: \"#e298a0\",\n  green: \"#77af42\",\n  lightGreen: \"#8bc753\",\n  darkGreen: \"#63a524\",\n  paleYellow: \"#ffffbb\",\n  teal: \"#0dc0de\",\n  blue: \"#007da4\",\n  lightBlue: \"#34bdd8\",\n  neutralLightBlue: \"#0dc0dc\",\n  tangerine: \"#ffbd3e\",\n  gray: \"#5e5e5e\",\n  darkGray: \"#757575\",\n  pale: \"#d5d5d5\",\n  light: \"#e4e4e4\",\n  white: \"#ffffff\",\n  neutralLightest: \"#f9f9f9\", // nearly white\n  neutralCool: \"#f6f7f8\", // cool bright gray\n  neutralBright: \"#f5f5f5\", // bright gray\n  neutralLighter: \"#f1f1f1\", // light gray\n  neutralLight: \"#e5e5e5\", // light gray\n  neutralMedium: \"#a0a0a0\", // light gray\n  neutral: \"#818181\", // gray\n  neutralThin: \"#6f6f6f\", // medium gray\n  neutralDark: \"#5f6163\", // dark gray\n  neutralFeedback: \"#555\", // another dark gray\n  neutralDarker: \"#424242\", // very dark gray\n  black: \"#000000\",\n  orange: \"#D4450C\"\n};\n\nexport const colors = {\n  palette: palette,\n  answer: {\n    color: palette.lightBlue,\n    correct: {\n      color: palette.green,\n      background: \"#77af42\",\n    },\n    incorrect: {\n      color: palette.red,\n      background: palette.red,\n    },\n    checked: palette.lightBlue,\n    hover: palette.neutralDark,\n    label: {\n      color: palette.neutralMedium,\n      colorHover: palette.neutralDark,\n      colorSelected: palette.lightBlue,\n    },\n    feedback: {\n      arrowOuterColor: \"rgba(0, 0, 0, 0.25)\",\n      popover: {\n        borderColor: \"rgba(0, 0, 0, 0.2)\",\n      },\n    },\n  },\n  card: {\n    background: \"#daf3f8\",\n  },\n  button: {\n    background: palette.orange,\n    backgroundHover: \"#E74B0D\",\n    backgroundActive: \"#C5400B\"\n  },\n  freeResponse: {\n    color: palette.neutralDark,\n    background: palette.neutralLighter,\n  },\n};\n\nexport const layouts = {\n  answer: {\n    verticalSpacing: \"1.5rem\",\n    horizontalSpacing: \"1rem\",\n    horizontalBuffer: \"2.5rem\",\n    bubbleSize: \"4rem\",\n    labelSpacing: \"6.5rem\",\n    feedback: {\n      arrow: {\n        width: \"20px\",\n        height: \"15px\",\n      },\n      popover: {\n        horizontalSpacing: \"2rem\",\n        verticalSpacing: \"2rem\",\n        horizontalBuffer: \"4rem\",\n        borderWidth: \"1px\",\n        maxWidth: \"370px\",\n      }\n    },\n  },\n};\n\nexport const BREAKPOINTS = {\n  mobile: 600,\n  tablet: 999,\n  desktop: 1000,\n  large: 1600,\n};\n\nexport const breakpoints = {\n  mobile(...args: Parameters<typeof css>) {\n    return css`@media(max-width: ${BREAKPOINTS.mobile}px) { ${css(...args)} }`;\n  },\n  tablet(...args: Parameters<typeof css>) {\n    return css`@media(max-width: ${BREAKPOINTS.tablet}px) { ${css(...args)} }`;\n  },\n  desktop(...args: Parameters<typeof css>) {\n    return css`@media(min-width: ${BREAKPOINTS.desktop}px) { ${css(...args)} }`;\n  },\n  only: {\n    mobile(...args: Parameters<typeof css>) {\n      return css`@media(max-width: ${BREAKPOINTS.mobile}px) { ${css(...args)} }`;\n    },\n  },\n  margins: {\n    mobile: '8px',\n    tablet: '24px',\n  },\n};\n\nexport const transitions = {\n  answer: \"0.1s ease-in-out\",\n}\n\nexport const mixins = {\n  answer: () => css`\n    .answer-label {\n      display: flex;\n    }\n    color: ${colors.answer.label.color};\n    .answer-letter {\n      width: ${layouts.answer.bubbleSize};\n      height: ${layouts.answer.bubbleSize};\n      min-width: ${layouts.answer.bubbleSize};\n      min-height: ${layouts.answer.bubbleSize};\n      border-radius: calc(${layouts.answer.bubbleSize} / 2);\n      border-width: 2px;\n      border-style: solid;\n      border-color: #c6c6c6;\n      color: ${colors.answer.label.colorHover};\n      transition: color ${transitions.answer}, border-color ${transitions.answer}, background-color ${transitions.answer};\n      background-color: ${colors.palette.white};\n    }\n  `,\n  answerColor: (values: { color: string, background: string }) => css`\n    color: ${values.color};\n    .answer-letter {\n       border-color: ${values.color};\n       background-color: ${values.background};\n       color: ${colors.palette.white};\n    }\n  `,\n  answerChecked: () => mixins.answerColor({ color: colors.answer.checked, background: colors.answer.checked }),\n  answerCorrect: () => mixins.answerColor(colors.answer.correct),\n  answerIncorrect: () => mixins.answerColor(colors.answer.incorrect),\n  answerHover: () => css`\n    color: ${colors.answer.label.colorHover};\n    .answer-letter {\n      border-color: ${colors.answer.label.colorSelected};\n    }\n  `,\n  answerCorrectText: () => css`\n    content: 'correct answer';\n    color: ${colors.answer.label.color};\n    margin-left: calc(-1.25 * ${layouts.answer.bubbleSize});\n    width: calc(1.25 * ${layouts.answer.bubbleSize});\n    text-align: center;\n    font-size: 1.2rem;\n    // em used here for line-height for compatibility with IE\n    // http://caniuse.com/#feat=rem -- rem ignored in pseudo elements\n    line-height: 1em;\n    margin-top: 0.8rem;\n  `,\n  answerCorrectAnswer: () => css`\n    color: ${colors.answer.correct.color};\n    .answer-letter {\n      border-color: ${colors.answer.correct.color};\n      color: ${colors.answer.correct.color};\n    }\n    &::before {\n     ${mixins.answerCorrectText()}\n      @media screen and (max-width: ${BREAKPOINTS.tablet}px) {\n        display: none;\n      }\n    }\n    @media screen and (max-width:  ${BREAKPOINTS.tablet}px) {\n      .answer-letter-wrapper {\n        display: flex;\n        flex-direction: column;\n        &::after {\n          ${mixins.answerCorrectText()}\n          width: $openstax-answer-bubble-size !important;\n          margin-left: 0;\n        }\n      }\n    }\n  `,\n  resetText: () => css`\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1.6;\n    text-align: left;\n    text-align: start;\n    text-decoration: none;\n    text-shadow: none;\n    text-transform: none;\n    letter-spacing: normal;\n    word-break: normal;\n    word-spacing: normal;\n    white-space: normal;\n    line-break: auto;\n  `,\n  stepCardPadding: () => css`\n    padding: 48px 140px;\n\n    ${breakpoints.tablet`\n      padding: ${breakpoints.margins.tablet} ${breakpoints.margins.tablet};\n    `}\n\n    ${breakpoints.mobile`\n      padding: calc(${breakpoints.margins.mobile} * 2) ${breakpoints.margins.mobile};\n    `}\n  `,\n};\n\nconst theme = {\n  colors: colors,\n  layouts: layouts,\n  transitions: transitions,\n  breakpoints: breakpoints,\n};\n\nexport default theme;\n","import styled from 'styled-components';\nimport { mixins, colors, layouts, transitions } from '../theme';\nimport { AnswersTable } from './AnswersTable';\nimport classnames from 'classnames';\nimport { ID, ExerciseQuestionData, Task } from 'src/types';\nimport { ReactNode } from 'react';\nimport { Content } from './Content';\n\nconst StyledQuestion = styled.div`\n&.step-card-body {\n  ${mixins.stepCardPadding()};\n}\n\n&.openstax-question {\n  font-size: 2rem;\n\n  .detailed-solution {\n    margin-bottom: 1rem;\n    .header {\n      display: inline;\n      margin-right: 0.5rem;\n      color: #5e6062;\n      font-weight: bold;\n      flex-basis: 0;\n    }\n    .solution {\n      display: inline;\n      color: #6f6f6f;\n    }\n  }\n\n  img {\n    display: block;\n    margin: auto;\n    max-width: 100%;\n  }\n\n  .question-stem {\n    margin-bottom: 0;\n  }\n\n  .answers-table {\n    margin-bottom: 20px;\n    font-size: 17px;\n    line-height: 25px;\n  }\n\n  .instructions {\n    font-size: 1.4rem;\n    font-style: italic;\n    margin-top: 10px;\n    color: ${colors.palette.neutral};\n    margin: 0;\n\n    i {\n      margin-left: 5px;\n    }\n\n    .text-info {\n      color: ${colors.palette.neutralLightBlue};\n      padding-left: 5px;\n      cursor: pointer;\n      font-style: normal;\n    }\n  }\n\n  .multiple-choice-prompt {\n    font-weight: 600;\n  }\n\n  .free-response {\n    padding: ${layouts.answer.horizontalSpacing} ${layouts.answer.horizontalBuffer};\n    margin: ${layouts.answer.verticalSpacing} 0 ${layouts.answer.horizontalSpacing} ${layouts.answer.verticalSpacing};\n    border-left: ${layouts.answer.horizontalSpacing} solid ${colors.palette.neutralLighter};\n    font-style: italic;\n  }\n\n  &:not(.openstax-question-preview) {\n    .answers-answer {\n      width: initial;\n      &:not(.disabled){\n        .answer-label:focus{\n          background-color: ${colors.palette.neutralLightest};\n        }\n      }\n      ${mixins.answer()};\n    }\n\n    .answer-answer {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      margin-left: ${layouts.answer.horizontalSpacing};\n      * {\n        margin: 0;\n      }\n    }\n\n    .answer-letter {\n      text-align: center;\n      padding: 0;\n    }\n\n\n    .answer-label {\n      font-weight: normal;\n      width: 100%;\n      padding: ${layouts.answer.verticalSpacing} 0 0 0;\n      margin: 0;\n\n      transition: color ${transitions.answer};\n    }\n\n    // a selectable answer\n    .answer-input-box:not([disabled]) ~ .answer-label {\n      cursor: pointer;\n\n      &:hover {\n        ${mixins.answerHover()}\n      }\n    }\n\n    // a selected answer\n    &:not(.has-correct-answer) {\n      .answer-input-box {\n        display: none;\n\n        &:checked {\n          + .answer-label,\n          + .answer-label:hover {\n            ${mixins.answerChecked()};\n          }\n        }\n      }\n\n      .answer-checked{\n        .answer-label {\n          ${mixins.answerChecked()};\n        }\n      }\n    }\n\n    // answer that has been checked\n    &.has-correct-answer {\n      .answer-checked {\n        &:not(.answer-correct) {\n          .answer-label {\n            ${mixins.answerIncorrect()};\n          }\n        }\n\n        &.answer-correct {\n          .answer-label {\n            ${mixins.answerCorrect()};\n          }\n        }\n      }\n\n      .answer-correct:not(.answer-checked) {\n        .answer-label {\n          ${mixins.answerCorrectAnswer()}\n        }\n      }\n    }\n\n    &.has-incorrect-answer {\n      .answer-incorrect, .answer-checked.answer-incorrect {\n        .answer-label {\n          ${mixins.answerIncorrect()}\n        }\n      }\n    }\n\n    .question-feedback {\n      ${mixins.resetText()}\n\n      z-index: 1;\n      position: relative;\n      border: ${layouts.answer.feedback.popover.borderWidth} solid ${colors.answer.feedback.popover.borderColor};\n      background-color: ${colors.palette.white};\n      background-clip: padding-box;\n      border-radius: 0.3rem;\n      max-width: ${layouts.answer.feedback.popover.maxWidth};\n      margin: calc(${layouts.answer.feedback.arrow.height} - 5px) 0 ${layouts.answer.horizontalSpacing} calc(-1 * (2 * ${layouts.answer.horizontalSpacing}));\n      box-shadow: 10px 0px 10px rgba(0, 0, 0, .25);\n      color: ${colors.palette.neutral};\n      font-size: 1.4rem;\n      font-style: italic;\n\n      .arrow {\n        position: absolute;\n        display: block;\n        width: ${layouts.answer.feedback.arrow.width};\n        height: ${layouts.answer.feedback.arrow.height};\n        margin-left: 30px;\n        top: calc((${layouts.answer.feedback.arrow.height} + ${layouts.answer.feedback.popover.borderWidth}) * -1);\n\n        &::before,\n        &::after {\n          position: absolute;\n          display: block;\n          content: \"\";\n          border-color: transparent;\n          border-style: solid;\n          border-width: 0 calc(${layouts.answer.feedback.arrow.width} / 2) ${layouts.answer.feedback.arrow.height} calc(${layouts.answer.feedback.arrow.width} / 2);\n        }\n        &::before {\n          top: 0;\n          border-bottom-color: ${colors.answer.feedback.popover.borderColor};\n        }\n        &::after {\n          top: ${layouts.answer.feedback.popover.borderWidth};\n          border-bottom-color: ${colors.palette.white};\n        }\n      }\n\n      .question-feedback-content {\n        padding: ${layouts.answer.feedback.popover.verticalSpacing} ${layouts.answer.feedback.popover.horizontalSpacing};\n      }\n    }\n  }\n\n  .openstax-answer {\n    border-top: 1px solid #d5d5d5;\n    margin: 10px 0;\n    padding: 10px 0;\n  }\n}\n`;\n\nexport interface QuestionProps {\n  question: ExerciseQuestionData,\n  answer_id?: ID;\n  task?: Task | null,\n  correct_answer_id: ID | null;\n  incorrectAnswerId: ID;\n  hideAnswers: boolean;\n  hidePreambles?: boolean,\n  exercise_uid?: string;\n  displayFormats: boolean,\n  className: string;\n  questionNumber: number;\n  displaySolution: boolean;\n  context?: string;\n  correct_answer_feedback_html?: string;\n  contentRenderer?: JSX.Element;\n  feedback_html: string;\n  onChange: () => void;\n  show_all_feedback?: boolean;\n  children?: ReactNode;\n  answerIdOrder?: ID[];\n  choicesEnabled?: boolean;\n}\n\nexport const Question = (props: QuestionProps) => {\n  let exerciseUid, solution;\n\n  const {\n    question, correct_answer_id, incorrectAnswerId, exercise_uid, className, questionNumber, context, task, hidePreambles\n  } = props;\n\n  const { stem_html, collaborator_solutions = [], formats, stimulus_html } = question;\n\n  const hasCorrectAnswer = !!correct_answer_id;\n  const hasIncorrectAnswer = !!incorrectAnswerId;\n\n  const taskIsDeleted = (task != null ? task.is_deleted : undefined)\n  const taskIsHomework = ((task != null ? task.type : undefined) === 'homework');\n\n  const classes = classnames('openstax-question', className, {\n    'has-correct-answer': hasCorrectAnswer && !(taskIsDeleted && taskIsHomework),\n    'has-incorrect-answer': hasIncorrectAnswer,\n  });\n\n  const hasSolution = () => {\n    const { displaySolution } = props;\n    const { collaborator_solutions = [] } = question;\n\n    return (\n      displaySolution &&\n      collaborator_solutions &&\n      collaborator_solutions.find(s => s['content_html'] !== undefined)\n    );\n  };\n\n  if (exercise_uid != null) {\n    exerciseUid = (\n      <div className=\"exercise-uid\">\n        {exercise_uid}\n      </div>\n    );\n  }\n\n  if (hasSolution()) {\n    solution =\n      <div className=\"detailed-solution\">\n        <div className=\"header\">\n          Detailed solution:\n        </div>\n        <Content\n          className=\"solution\"\n          block={true}\n          html={collaborator_solutions.map(s => s['content_html']).join('')} />\n      </div>;\n  }\n\n  return (\n    <StyledQuestion className={classes} data-question-number={questionNumber} data-test-id=\"question\">\n      <QuestionHtml type=\"context\" html={context} hidden={hidePreambles} />\n      <QuestionHtml type=\"stimulus\" html={stimulus_html} hidden={hidePreambles} />\n      <QuestionHtml type=\"stem\" html={stem_html} hidden={hidePreambles} questionNumber={questionNumber} />\n      {props.children}\n\n      <AnswersTable\n        {...props}\n        onChangeAnswer={props.onChange}\n        hasCorrectAnswer={hasCorrectAnswer} />\n\n      {solution}\n      {props.displayFormats ? <FormatsListing formats={formats} /> : undefined}\n      {exerciseUid}\n    </StyledQuestion>\n  );\n}\n\ninterface QuestionHtmlProps {\n  html?: string;\n  type: string;\n  hidden: QuestionProps['hidePreambles'];\n  questionNumber?: QuestionProps['questionNumber'];\n}\n\nexport const QuestionHtml = (props: QuestionHtmlProps) => {\n  const { html = '', type, hidden, questionNumber } = props;\n  if (hidden === true || !(html.length > 0)) { return null; }\n\n  return (\n    <Content\n      html={html}\n      data-question-number={questionNumber}\n      className={`question-${type}`}\n      block={true}\n    />\n  );\n};\n\nconst FormatsListing = ({ formats = [] }: { formats: ExerciseQuestionData['formats'] }) => {\n  return (\n    <div className=\"formats-listing\">\n      <div className=\"header\">Formats:</div>\n      {formats.map((format, i) => <span key={i}>{format}</span>)}\n    </div>\n  );\n};\n","import { colors } from \"../theme\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n  background-color: ${colors.button.background};\n  color: ${colors.palette.white};\n  font-size: 1.6rem;\n  font-weight: 700;\n  line-height: 2rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  height: 4rem;\n  padding: 0 3rem;\n  border: 0;\n  border-radius: 5px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n\n  &:not([disabled]) {\n    cursor: pointer;\n    &:hover {\n      background: ${colors.button.backgroundHover}\n    }\n    &:active {\n      background: ${colors.button.backgroundActive}\n    }\n  }\n  &:disabled {\n    opacity: 0.4;\n  }\n`;\n\ninterface ButtonProps extends React.ComponentPropsWithoutRef<'button'> {\n  isWaiting?: never;\n  waitingText?: never;\n}\ninterface WaitingButtonProps extends React.ComponentPropsWithoutRef<'button'> {\n  isWaiting: boolean;\n  waitingText: string;\n}\n\nconst Button = (props: ButtonProps | WaitingButtonProps) => {\n  const { disabled, isWaiting, waitingText, children, ...otherProps } = props;\n\n  return (\n    <StyledButton {...otherProps} disabled={isWaiting || disabled}>{(isWaiting && waitingText) || children}</StyledButton>\n  );\n}\n\nexport default Button;\n","import { colors, breakpoints, mixins } from \"../theme\";\nimport styled from \"styled-components\";\n\nexport const StepCardFooter = styled.div`\n    ${mixins.stepCardPadding()}\n    border-top: 1px solid ${colors.palette.pale};\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    font-size: 1.4rem;\n    line-height: 2rem;\n\n    > * {\n        flex-grow: 1;\n    }\n\n    button {\n        width: 160px;\n        height: 48px;\n    }\n\n    .points {\n        margin-bottom: 1.6rem; // Replace with https://caniuse.com/?search=gap soon\n\n        .attempts-left {\n            color: #F36B32;\n        }\n    }\n\n    .controls {\n        display: flex;\n        flex-flow: column wrap-reverse;\n        margin-left: 1.6rem; // Replace with https://caniuse.com/?search=gap soon\n\n        button + button {\n            margin: 0.8rem 0 0 0;\n        }\n    }\n\n    ${breakpoints.desktop`\n        padding: 32px 140px;\n        flex-wrap: nowrap;\n\n        .points {\n            max-width: 400px;\n        }\n\n        .controls {\n            flex-flow: row;\n            justify-content: flex-end;\n\n            button + button {\n                margin: 0 0 0 0.8rem;\n            }\n        }\n    `}\n`;\n","import { MouseEventHandler, ReactNode } from 'react';\nimport { countWords } from '../utils';\nimport styled, { css } from 'styled-components';\nimport { colors, mixins } from '../theme';\nimport { AvailablePoints, ExerciseQuestionData } from 'src/types';\nimport { QuestionHtml } from './Question';\nimport Button from './Button';\nimport { StepCardFooter } from './StepCardFooter';\n\nexport interface FreeResponseProps {\n  readOnly: boolean;\n  wordLimit: number;\n  infoRowChildren?: ReactNode;\n  pointsChildren?: ReactNode;\n  onChange: (event: React.ChangeEvent<HTMLTextAreaElement>) => void;\n  cancelHandler: MouseEventHandler<HTMLButtonElement>;\n  saveHandler: MouseEventHandler<HTMLButtonElement>;\n  defaultValue: string;\n  isSubmitDisabled: boolean;\n  questionNumber: number,\n  question: ExerciseQuestionData,\n  availablePoints: AvailablePoints,\n  textHasChanged: boolean;\n  submitBtnLabel: string;\n}\n\nconst TextAreaErrorStyle = css`\n  background-color: #f5e9ea;\n`;\n\nconst StyledFreeResponse = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  .step-card-body {\n    ${mixins.stepCardPadding()}\n  }\n`;\n\nconst SyledQuestionStem = styled.div`\n  font-size: 2rem;\n  line-height: 1.68em;\n  position: relative;\n`;\n\nconst InfoRow = styled.div<{ hasChildren: boolean }>`\n  margin: 8px 0;\n  display: flex;\n  justify-content: ${props => props.hasChildren ? 'space-between' : 'flex-end'};\n  line-height: 1.6rem;\n\n  .word-limit-error-info {\n    color: ${colors.palette.danger};\n  }\n\n  div > span {\n    font-size: 12px;\n    line-height: 16px;\n\n    + span {\n      margin-left: 1rem;\n    }\n  }\n\n  .last-submitted + * {\n    margin-top: 0.8rem;\n  }\n\n  color: ${colors.palette.neutralThin};\n`;\n\nexport const FreeResponseTextArea = styled.textarea<{ isOverWordLimit: boolean } & FreeResponseProps>`\n  display: block;\n  font-family: inherit;\n  font-size: 1.8rem;\n  line-height: 3rem;\n  width: 100%;\n  min-height: 10.5em;\n  line-height: 1.5em;\n  margin: 2.5rem 0 0 0;\n  padding: 0.5em;\n  border: 1px solid ${colors.palette.neutral};\n  color: ${colors.palette.neutralDark};\n  ${props => props.isOverWordLimit && TextAreaErrorStyle};\n  ${props => props.isOverWordLimit && css`\n    border: 2px solid ${colors.palette.danger};\n  `}\n  background-color: ${props => props.readOnly && colors.palette.neutralCool};\n`;\nFreeResponseTextArea.displayName = 'OSFreeResponseTextArea';\n\nconst RevertButton = (props: {\n  disabled: boolean\n} & React.ComponentPropsWithoutRef<'button'>) => (\n  <Button {...props}>\n    Cancel\n  </Button>\n);\n\n\nexport const FreeResponseInput = (props: FreeResponseProps) => {\n  const {\n    availablePoints,\n    cancelHandler,\n    defaultValue,\n    infoRowChildren,\n    isSubmitDisabled,\n    pointsChildren,\n    question,\n    questionNumber,\n    saveHandler,\n    submitBtnLabel,\n    textHasChanged,\n    wordLimit,\n  } = props;\n\n  const isOverWordLimit = countWords(defaultValue) > wordLimit;\n\n  const questionProps = {};\n  if (questionNumber) { questionProps['data-question-number'] = questionNumber; }\n\n  return (\n    <StyledFreeResponse data-test-id=\"student-free-response\">\n      <div className=\"step-card-body\">\n        <SyledQuestionStem {...questionProps}>\n          {question.stem_html &&\n            <QuestionHtml type=\"stem\" html={question.stem_html} hidden={false} />}\n        </SyledQuestionStem>\n        <FreeResponseTextArea\n          {...props}\n          isOverWordLimit={isOverWordLimit}\n          data-test-id=\"free-response-box\"\n          placeholder=\"Enter your response...\"\n          aria-label=\"question response text box\"\n        />\n        <InfoRow hasChildren={!!infoRowChildren}>\n          {infoRowChildren}\n          <div>\n            <span>{countWords(defaultValue)} words</span>\n            {isOverWordLimit && <span className=\"word-limit-error-info\">Maximum {wordLimit} words</span>}\n          </div>\n        </InfoRow>\n      </div>\n      <StepCardFooter>\n        <div className=\"points\">\n          <strong>Points: {availablePoints}</strong>\n          {pointsChildren}\n        </div>\n        <div className=\"controls\">\n          <RevertButton disabled={!textHasChanged} onClick={cancelHandler} />\n          <Button\n            data-test-id=\"submit-answer-btn\"\n            disabled={isSubmitDisabled || isOverWordLimit}\n            onClick={saveHandler}\n          >\n            {submitBtnLabel}\n          </Button>\n        </div>\n      </StepCardFooter>\n    </StyledFreeResponse>\n  );\n}\n\nFreeResponseInput.displayName = 'OSFreeResponse';\n","import { ReactNode } from \"react\";\nimport { breakpoints, colors, mixins } from \"../theme\";\nimport { AvailablePoints, StepBase, StepWithData } from \"../types\";\nimport styled from \"styled-components\";\nimport cn from \"classnames\";\n\nexport const InnerStepCard = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  min-height: 400px;\n  border-radius: 0.25rem;\n  margin: 0 auto 5rem auto;\n  border: 1px solid ${colors.palette.light};\n  border-radius: 0.25rem;\n  background-color: white;\n\n  ${breakpoints.desktop`\n    max-width: 1000px;\n    min-width: 750px;\n  `}\n`;\n\nexport const OuterStepCard = styled.div`\n  padding: 2rem;\n\n  ${breakpoints.tablet`\n    padding: 0;\n  `}\n`;\n\nconst StepCardHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 24px;\n  background: ${colors.card.background};\n  font-size: 1.8rem;\n  line-height: 3rem;\n\n  div {\n    display: flex;\n    align-items: center;\n  }\n\n  div.question-info {\n    font-weight: bold;\n\n    .ox-icon-lock {\n        margin-right: 1rem;\n    }\n  }\n\n  .num-questions, .points, .separator {\n      display: none;\n  }\n\n  .exercise-id, .separator {\n      font-weight: normal;\n  }\n\n  .separator {\n      margin: 0 1rem;\n  }\n\n  .exercise-id {\n      height: 28px; // Fix baseline issue\n  }\n\n  button {\n    color: ${colors.palette.gray};\n  }\n\n  .openstax-exercise-badges {\n      margin: 0;\n      line-height: 2rem;\n      svg {\n          display: block;\n          &:not(.interactive) {\n              margin: 0 0 0 6px !important;\n          }\n      }\n  }\n\n  ${breakpoints.desktop`\n      button.ox-icon-angle-left, button.ox-icon-angle-right {\n          display: none;\n      }\n      .separator {\n          display: inherit;\n      }\n  `}\n\n    /*\n    1. Show the arrows to move to previous and next question.\n    2. Show the number of questions.\n    3. Override box-shadow of icons when turned into a button.\n    */\n    ${breakpoints.tablet`\n        font-size: 1.6rem;\n        line-height: 2.5rem;\n\n        svg.ox-icon {\n            display: inherit;\n            margin: 0;\n        }\n        button.ox-icon-angle-left {\n            margin-right: ${breakpoints.margins.tablet};\n        }\n        button.ox-icon-angle-right {\n            margin-left: ${breakpoints.margins.tablet};\n        }\n        .openstax-exercise-badges svg {\n            display: none;\n        }\n        .num-questions, points {\n            display: inherit;\n        }\n\n        .exercise-id {\n            display: none;\n        }\n\n        button[class^='ox-icon-angle']:hover {\n            box-shadow: none;\n        }\n  `}\n\n  ${breakpoints.mobile`\n      font-size: 1.4rem;\n      line-height: 2rem;\n      padding: 10px 8px;\n\n      button.ox-icon-angle-left {\n          margin-right: ${breakpoints.margins.mobile};\n      }\n      button.ox-icon-angle-left {\n          margin-right: ${breakpoints.margins.mobile};\n      }\n  `}\n`;\nStepCardHeader.displayName = 'StepCardHeader';\n\nconst StepCardQuestion = styled.div<{ unpadded?: boolean }>`\n  .step-card-body {\n    ${mixins.stepCardPadding()}\n  }\n\n    & + div .step-card-body {\n        padding-top: 0;\n    }\n\n    &.exercise-context, &.exercise-stimulus, &.exercise-stem {\n        padding-bottom: 0;\n    }\n\n    ${breakpoints.only.mobile`\n        && .question-feedback {\n            margin-left: 0;\n\n           .arrow { margin-left: 12px; }\n        }\n    `}\n\n    .reading-step & {\n        padding: 0;\n    }\n\n    ${breakpoints.desktop`\n        .video-step &, .interactive-step & {\n            .openstax-exercise-badges {\n              margin-right: 3.8rem;\n            }\n        }\n    `}\n\n    ${breakpoints.mobile`\n        .openstax-exercise-badges svg {\n            margin-right: ${breakpoints.margins.mobile};\n        }\n    `}\n\n    &&& {\n        .openstax-has-html .splash .frame-wrapper { margin-top: 0; }\n    }\n`;\n\ninterface SharedProps {\n  questionNumber: number;\n  numberOfQuestions: number;\n  leftHeaderChildren?: ReactNode;\n  rightHeaderChildren?: ReactNode;\n  headerTitleChildren?: ReactNode;\n}\n\nexport interface StepCardProps extends SharedProps {\n  unpadded: boolean;\n  className?: string;\n  children?: ReactNode;\n  stepType: StepWithData['type'];\n  availablePoints?: AvailablePoints;\n  questionId?: string;\n  multipartBadge?: ReactNode;\n  isHomework: boolean;\n  wrapsExercise: boolean;\n}\n\nconst StepCard = ({\n  questionNumber,\n  numberOfQuestions,\n  stepType,\n  isHomework,\n  availablePoints,\n  unpadded, // currently does nothing; may need to restore if this causes tutor stepcard regression\n  className,\n  children,\n  questionId,\n  multipartBadge,\n  leftHeaderChildren,\n  rightHeaderChildren,\n  headerTitleChildren,\n  wrapsExercise,\n  ...otherProps }: StepCardProps) => {\n  return (\n    <OuterStepCard {...otherProps}>\n      {multipartBadge}\n      <InnerStepCard className={className}>\n        {questionNumber && isHomework && stepType === 'exercise' &&\n          <StepCardHeader>\n            <div>\n              {leftHeaderChildren}\n              <div className=\"question-info\">\n                {headerTitleChildren}\n                <span>{wrapsExercise ? 'Exercise' : 'Question'} {questionNumber}</span>\n                <span className=\"num-questions\">&nbsp;/ {numberOfQuestions}</span>\n                <span className=\"separator\">|</span>\n                <span className=\"question-id\">ID: {questionId}</span>\n              </div>\n            </div>\n            <div>\n              {availablePoints && <div className=\"points\">{availablePoints} Points</div>}\n              {rightHeaderChildren}\n            </div>\n          </StepCardHeader>\n        }\n        <StepCardQuestion unpadded={unpadded}>{children}</StepCardQuestion>\n      </InnerStepCard>\n    </OuterStepCard>\n  )\n};\nStepCard.displayName = 'OSStepCard';\n\nexport interface TaskStepCardProps extends SharedProps {\n  className?: string;\n  children?: ReactNode;\n  step: StepBase | StepWithData;\n  questionNumber: number;\n  numberOfQuestions: number;\n  wrapsExercise: boolean;\n}\n\nconst TaskStepCard = ({\n  step,\n  questionNumber,\n  numberOfQuestions,\n  children,\n  className,\n  ...otherProps\n}: TaskStepCardProps) =>\n(<StepCard {...otherProps}\n  unpadded={true}\n  questionNumber={questionNumber}\n  numberOfQuestions={numberOfQuestions}\n  stepType={'type' in step ? step.type : 'exercise'}\n  isHomework={'task' in step ? (step.task === undefined || step.task.type === 'homework') : true}\n  data-task-step-id={step.id}\n  availablePoints={step.available_points}\n  className={cn(`${('type' in step ? step.type : 'exercise')}-step`, className)}\n  questionId={step.uid}\n>\n  {children}\n</StepCard>);\n\nTaskStepCard.displayName = 'OSTaskStepCard';\n\nexport { StepCard, TaskStepCard };\n","import { AvailablePoints, ID, ExerciseQuestionData, Task } from \"../types\";\nimport Button from \"./Button\";\nimport { Content } from \"./Content\";\nimport { Question } from './Question';\nimport { StepCardFooter } from \"./StepCardFooter\";\n\nexport interface ExerciseQuestionProps {\n  task?: Task;\n  question: ExerciseQuestionData;\n  answer_id_order?: ID[];\n  questionNumber: number;\n  choicesEnabled: boolean;\n  hasMultipleAttempts: boolean;\n  onAnswerChange: () => void;\n  onAnswerSave: () => void;\n  onNextStep: () => void;\n  feedback_html: string;\n  correct_answer_feedback_html: string;\n  is_completed: boolean;\n  correct_answer_id: ID;\n  incorrectAnswerId: ID;\n  answer_id?: ID;\n  attempts_remaining: number;\n  published_comments?: string;\n  detailedSolution?: string;\n  canAnswer: boolean;\n  needsSaved: boolean;\n  canUpdateCurrentStep: boolean;\n  attempt_number: number;\n  apiIsPending: boolean;\n  displaySolution: boolean;\n  available_points: AvailablePoints;\n  exercise_uid: string;\n  free_response?: string;\n  show_all_feedback?: boolean;\n}\n\nconst AttemptsRemaining = ({ count }: { count: number }) => {\n  return (\n    <div>{count} attempt{count === 1 ? '' : 's'} left</div>\n  );\n}\n\nconst PublishedComments = ({ published_comments }: { published_comments?: string }) => {\n  if (!published_comments) { return null; }\n\n  return (\n    <div>\n      <strong>Feedback:</strong> {published_comments}\n    </div>\n  );\n}\n\nconst SaveButton = (props: {\n  disabled: boolean, isWaiting: boolean, attempt_number: number\n} & React.ComponentPropsWithoutRef<'button'>) => (\n  <Button\n    {...props}\n    waitingText=\"Saving…\"\n    isWaiting={props.isWaiting}\n    data-test-id=\"submit-answer-btn\"\n  >\n    {props.attempt_number == 0 ? 'Submit' : 'Re-submit'}\n  </Button>\n);\n\nconst NextButton = (props: {\n  canUpdateCurrentStep: boolean,\n  onNextStep: ExerciseQuestionProps['onNextStep']\n}) => {\n  return (\n    <Button onClick={props.onNextStep} data-test-id=\"continue-btn\">\n      {props.canUpdateCurrentStep ? 'Continue' : 'Next'}\n    </Button>\n  );\n}\n\nconst FreeResponseReview = ({ free_response }: Pick<ExerciseQuestionProps, \"free_response\">) => {\n  if (!free_response) { return null; }\n  return (\n    <>\n      <div className=\"free-response\">{free_response}</div>\n    </>\n  );\n}\n\nexport const ExerciseQuestion = (props: ExerciseQuestionProps) => {\n  const {\n    question, task, answer_id_order, onAnswerChange, feedback_html, correct_answer_feedback_html,\n    is_completed, correct_answer_id, incorrectAnswerId, choicesEnabled, questionNumber,\n    answer_id, hasMultipleAttempts, attempts_remaining, published_comments, detailedSolution,\n    canAnswer, needsSaved, attempt_number, apiIsPending, onAnswerSave, onNextStep, canUpdateCurrentStep,\n    displaySolution, available_points, free_response, show_all_feedback\n  } = props;\n\n  return (\n    <div data-test-id=\"student-exercise-question\">\n      <Question\n        task={task}\n        question={question}\n        answerIdOrder={answer_id_order}\n        choicesEnabled={choicesEnabled}\n        answer_id={answer_id}\n        questionNumber={questionNumber}\n        onChange={onAnswerChange}\n        feedback_html={feedback_html}\n        correct_answer_feedback_html={correct_answer_feedback_html}\n        correct_answer_id={is_completed ? correct_answer_id : null}\n        incorrectAnswerId={incorrectAnswerId}\n        className=\"step-card-body\"\n        hideAnswers={false}\n        displayFormats={false}\n        displaySolution={displaySolution}\n        show_all_feedback={show_all_feedback}\n      >\n        <FreeResponseReview free_response={free_response} />\n      </Question>\n      <StepCardFooter className=\"step-card-footer\">\n        <div className=\"points\">\n          <strong>Points: {available_points}</strong>\n          <span className=\"attempts-left\">\n            {hasMultipleAttempts &&\n              attempts_remaining > 0 &&\n              <AttemptsRemaining count={attempts_remaining} />}\n          </span>\n          <PublishedComments published_comments={published_comments} />\n          {detailedSolution && (<div><strong>Detailed solution:</strong> <Content html={detailedSolution} /></div>)}\n        </div>\n        <div className=\"controls\">\n          {canAnswer && needsSaved ?\n            <SaveButton\n              disabled={apiIsPending || !answer_id}\n              isWaiting={apiIsPending}\n              attempt_number={attempt_number}\n              onClick={onAnswerSave}\n            /> :\n            <NextButton onNextStep={onNextStep} canUpdateCurrentStep={canUpdateCurrentStep} />}\n        </div>\n      </StepCardFooter>\n    </div>\n  );\n}\n","import styled from 'styled-components';\nimport { Content } from './Content';\nimport { TaskStepCard } from './Card';\nimport { Answer, ExerciseData, ID, QuestionState, StepBase, StepWithData } from '../../src/types';\nimport { ExerciseQuestion } from './ExerciseQuestion';\n\nconst StyledTaskStepCard = styled(TaskStepCard)`\n  font-size: 1.8rem;\n  line-height: 3rem;\n`;\n\nconst Preamble = ({ exercise }: { exercise: ExerciseData }) => {\n  return (\n    <>\n      {exercise.context &&\n        <Content className=\"step-card-body exercise-context\"\n          block html={exercise.context} />}\n\n      {exercise.stimulus_html &&\n        <Content className=\"step-card-body exercise-stimulus\"\n          block html={exercise.stimulus_html} />}\n    </>\n  );\n};\n\ninterface ExerciseBaseProps {\n  step: StepBase;\n  exercise: ExerciseData;\n  numberOfQuestions: number;\n  questionNumber: number;\n  answer_id_order?: ID[];\n  hasMultipleAttempts: boolean;\n  onAnswerChange: (answer: Answer & { question_id: ID }) => void;\n  onAnswerSave: () => void;\n  onNextStep: () => void;\n  apiIsPending: boolean;\n  show_all_feedback?: boolean;\n}\n\nexport interface ExerciseWithStepDataProps extends ExerciseBaseProps {\n  step: StepWithData;\n  canAnswer: boolean;\n  needsSaved: boolean;\n}\n\nexport interface ExerciseWithQuestionStatesProps extends ExerciseBaseProps {\n  questionStates: { [key: ID]: QuestionState };\n}\n\nexport const Exercise = ({\n  numberOfQuestions, questionNumber, step, exercise, show_all_feedback, ...props\n}: ExerciseWithStepDataProps | ExerciseWithQuestionStatesProps) => (\n  <StyledTaskStepCard\n    step={step}\n    questionNumber={questionNumber}\n    numberOfQuestions={numberOfQuestions}\n    wrapsExercise={!('feedback_html' in step)}\n  >\n    <Preamble exercise={exercise} />\n\n    {exercise.questions.map((q) => {\n      const state = { ...('feedback_html' in step ? step : props['questionStates'][q.id]) };\n      return (\n        <ExerciseQuestion\n          {...props}\n          {...state}\n          exercise_uid={exercise.uid}\n          key={q.id}\n          question={q}\n          questionNumber={questionNumber}\n          choicesEnabled={state.canAnswer}\n          canUpdateCurrentStep={state.canAnswer}\n          displaySolution={true}\n          detailedSolution={state.solution?.content_html}\n          show_all_feedback={show_all_feedback}\n        />\n      )\n    }\n    )}\n  </StyledTaskStepCard>\n);\n","import styled, { css } from 'styled-components';\nimport { colors, breakpoints } from '../theme';\n\nconst ProgressBarWrapper = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  margin: 3.2rem;\n  ${breakpoints.mobile`\n    margin: 1rem;\n  `}\n`;\n\nconst StyledItemWrapper = styled.span`\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n\n  &::after {\n    content: \"\";\n    display: block;\n    height: 0.1rem;\n    width: 1rem;\n    background-color: ${colors.palette.pale};\n  }\n\n  &:last-child {\n    &::after {\n      content: none;\n    }\n  }\n\n  ${breakpoints.mobile`\n    &::after {\n      width: 3.3rem;\n    }\n  `}\n`;\n\nconst handleVariant = (variant: ProgressBarItemVariant, isActive: boolean) => {\n  switch (variant) {\n    case 'isCorrect':\n      return css`\n        color: ${colors.palette.white};\n        background-color: rgba(99, 165, 36, 0.6);\n        border-color: ${colors.palette.darkGreen};\n        box-shadow: ${isActive ? '0 0 6px rgba(0, 0, 0, 0.4)' : 'none'};\n      `;\n    case 'isIncorrect':\n      return css`\n        color: ${colors.palette.white};\n        background-color: ${colors.palette.lightRed};\n        border-color: ${colors.palette.darkRed};\n        box-shadow: ${isActive ? '0 0 6px rgba(0, 0, 0, 0.4)' : 'none'};\n      `;\n    default:\n      return css`\n        color: ${colors.palette.darkGray};\n        background-color: ${isActive ? colors.palette.white : colors.palette.neutralLight};\n        border-color: ${isActive ? colors.palette.darkGray : colors.palette.neutralLight};\n        box-shadow: ${isActive ? '0 0 6px rgba(0, 0, 0, 0.4)' : 'none'};\n      `;\n  }\n};\n\nexport const StyledItem = styled.button<{ variant: ProgressBarItemVariant, isActive: boolean }>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 2.4rem;\n  height: 2.4rem;\n  border-radius: 50%;\n  border-width: 1px;\n  border-style: solid;\n  margin: 0 0.3rem;\n  font-weight: bold;\n  cursor: pointer;\n  ${props => handleVariant(props.variant, props.isActive)}\n`;\n\nexport interface ProgressBarProps<S extends {variant: ProgressBarItemVariant}> {\n  steps: S[];\n  activeIndex: number | null;\n  goToStep: (index: number, step: S) => void;\n}\n\nexport interface ProgressBarItemProps<S> {\n  index: number;\n  isActive: boolean;\n  step: S;\n  goToStep: (index: number, step: S) => void;\n}\n\nexport type ProgressBarItemVariant = 'isCorrect' | 'isIncorrect' | null;\n\nexport const ProgressBarItem = <S extends {variant: ProgressBarItemVariant}>({index, isActive, step, goToStep}: ProgressBarItemProps<S>) =>\n  <StyledItemWrapper>\n    <StyledItem variant={step.variant} isActive={isActive} onClick={() => goToStep(index, step)}>{index + 1}</StyledItem>\n  </StyledItemWrapper>;\n\nexport const ProgressBar = <S extends {variant: ProgressBarItemVariant}>({ steps, activeIndex, goToStep }: ProgressBarProps<S>) => <ProgressBarWrapper>\n  {steps.map((step, index) => <ProgressBarItem\n    key={index}\n    index={index}\n    isActive={index === activeIndex}\n    step={step}\n    goToStep={goToStep}\n  />)}\n</ProgressBarWrapper>;\n\n"],"names":["ALPHABET","isAnswerIncorrect","answer","incorrectAnswerId","id","countWords","text","words","trim","match","length","Content","_ref","html","component","block","props","undefined","cloneElement","_extends","_jsx","dangerouslySetInnerHTML","__html","SimpleFeedback","children","contentRenderer","className","classnames","Feedback","position","_jsxs","wrapperClasses","type","iter","disabled","onKeyPress","qid","chosenAnswer","correctAnswerId","hasCorrectAnswer","answered_count","show_all_feedback","body","feedback","selectedCount","isChecked","Boolean","find","a","isAnswerChecked","isCorrect","correctness","isAnswerCorrect","correctIncorrectIcon","classes","cn","onChangeAnswer","radioBox","ariaLabel","onChange","question_id","checked","name","feedback_html","percent","selected_count","Math","round","green","red","content_html","_Fragment","htmlFor","onClick","isIncorrect","role","Answer","displayName","defaultAnswerType","AnswersTable","idCounter","question","hideAnswers","choicesEnabled","correct_answer_id","answer_id","correct_answer_feedback_html","answerIdOrder","instructions","questionAnswerProps","answersHtml","idOrder","answers","slice","sort","b","indexOf","sortedAnswersByIdOrder","map","i","Object","assign","key","push","index","answerProps","forEach","item","spliceIndex","splice","_t","_t2","_t3","_t4","_t5","_t6","_t7","_t8","_t9","_t10","_t11","_t12","_t13","_","t","palette","danger","darkRed","lightRed","lightGreen","darkGreen","paleYellow","teal","blue","lightBlue","neutralLightBlue","tangerine","gray","darkGray","pale","light","white","neutralLightest","neutralCool","neutralBright","neutralLighter","neutralLight","neutralMedium","neutral","neutralThin","neutralDark","neutralFeedback","neutralDarker","black","orange","colors","color","correct","background","incorrect","hover","label","colorHover","colorSelected","arrowOuterColor","popover","borderColor","card","button","backgroundHover","backgroundActive","freeResponse","breakpoints","args","css","mixins","answerColor","values","answerChecked","answerCorrect","answerIncorrect","answerHover","answerCorrectText","answerCorrectAnswer","resetText","stepCardPadding","styled","div","Question","exerciseUid","solution","exercise_uid","questionNumber","context","task","hidePreambles","stem_html","collaborator_solutions","formats","stimulus_html","is_deleted","displaySolution","s","hasSolution","join","StyledQuestion","QuestionHtml","hidden","displayFormats","FormatsListing","format","Button","isWaiting","waitingText","otherProps","StyledButton","StepCardFooter","TextAreaErrorStyle","StyledFreeResponse","SyledQuestionStem","InfoRow","hasChildren","FreeResponseTextArea","textarea","isOverWordLimit","readOnly","availablePoints","cancelHandler","defaultValue","infoRowChildren","isSubmitDisabled","pointsChildren","saveHandler","submitBtnLabel","textHasChanged","wordLimit","questionProps","placeholder","RevertButton","FreeResponseInput","InnerStepCard","StepCardHeader","StepCardQuestion","numberOfQuestions","stepType","isHomework","unpadded","questionId","multipartBadge","leftHeaderChildren","rightHeaderChildren","headerTitleChildren","wrapsExercise","_objectWithoutPropertiesLoose","_excluded","OuterStepCard","StepCard","TaskStepCard","_ref2","step","available_points","uid","AttemptsRemaining","count","PublishedComments","published_comments","SaveButton","attempt_number","NextButton","onNextStep","canUpdateCurrentStep","FreeResponseReview","free_response","ExerciseQuestion","answer_id_order","onAnswerChange","is_completed","hasMultipleAttempts","attempts_remaining","detailedSolution","canAnswer","needsSaved","apiIsPending","onAnswerSave","StyledTaskStepCard","Preamble","exercise","Exercise","questions","q","state","_state$solution","ProgressBarWrapper","StyledItemWrapper","span","variant","isActive","handleVariant","ProgressBarItem","goToStep","StyledItem","ProgressBar","steps","activeIndex"],"mappings":"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"}